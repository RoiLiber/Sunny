{"version":3,"sources":["serviceWorker.js","actions/actionTypes.js","consts.js","reducers/mainReducer.js","rootReducer.js","store.js","actions/mainActions.js","api.js","components/Header/Header.js","components/Header/index.js","styles/colorsVar.js","components/AutoComplete/AutoComplete.js","components/AutoComplete/index.js","components/CurrentWeather/CurrentWeather.js","components/CurrentWeather/index.js","components/WeatherDetails/WeatherDetails.js","components/WeatherDetails/index.js","components/Forecast/Forecast.js","components/Forecast/index.js","components/UI/RainEffect/index.js","components/UI/Lightning/index.js","components/UI/WeatherIcons/index.js","components/HomePage/HomePage.js","components/HomePage/index.js","components/Favorites/Favorites.js","components/Favorites/index.js","containers/WeatherApp/WeatherApp.js","containers/WeatherApp/index.js","App.js","index.js","assets/icon/logos/icon.png"],"names":["Boolean","window","location","hostname","match","actionTypes","setCity","setCityDetails","setFavoriteCities","removeFavoriteCity","updateFavorites","tampToggle","setDarkMode","weatherUrl","imageUrl","ERROR_MSG","ROUTES","API_GEOLOCATION_KEY","process","REACT_APP_API_KEY","API_KEY","favoritesCity","localStorage","getItem","metricPreferences","darkModePreferences","initialState","Immutable","city","cityDetails","currWeatherInfo","forecast","favoriteCities","JSON","parse","metric","darkMode","handleActions","types","state","value","setIn","key","favorites","set","bool","rootReducer","combineReducers","mainReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","type","newFavList","getState","filter","setItem","stringify","fetchCityWeather","a","fetch","response","json","currentWeatherDetails","WeatherText","Temperature","WeatherIcon","weatherImage","toString","padStart","tempC","get","tempF","description","img","updateCurrentCityWeather","dispatch","geoLocationCity","geo","defaultCity","undefined","fetchAutoCompleteOptions","lowerCase","cityResult","cityObj","LocalizedName","Country","Key","country","cityConfig","label","cities","fetchForecastDetails","metricBool","DailyForecasts","map","day","date","Date","temp","min","max","dayTemp","icon","Day","text","updateForecast","Header","compose","connect","withRouter","props","pathname","useEffect","console","log","className","src","logo","alt","to","Button","variant","reg","AutoComplete","withStyles","textField","borderColor","colors","invisible","display","paper","backgroundColor","classes","useState","open","setOpen","options","setOptions","isError","setIsError","citySearch","setCitySearch","loading","length","e","Autocomplete","onClose","onChange","onInputChange","getOptionLabel","option","popupIndicator","renderInput","params","TextField","placeholder","fullWidth","test","target","helperText","InputProps","root","endAdornment","CircularProgress","color","size","CurrentWeather","setTampMetric","cityName","degree","Math","round","ButtonGroup","disableElevation","onClick","WeatherDetails","dayDetails","currDay","index","minTemp","maxTemp","cascade","delay","split","Forecast","item","i","uuidv4","Rain","level","iStyle","topNum","floor","random","randomTopNum","topPx","randomLeftNum","left","top","Array","el","style","Lightning","getTimestamp","getTime","unsigned","lightningCanvas","document","getElementById","ctx","getContext","cloudLightningCanvas","clCtx","lightningSheetCanvas","lsCtx","lightning","cloudLightning","flashes","lightningSheets","stageWidth","stageHeight","previousTimestamp","ox","oy","width","isBranch","branchDirection","newCloud","x","y","this","paths","red","green","blue","alpha","hasEnded","xDeviation","flickerCount","clouds","push","Flash","CloudLightning","newLines","branchChance","newX","newY","previousPoint","getLastPoint","lastX","lastY","MAX_POINTS","FADE_INCREMENT","cloud","colour","getColour","beginPath","strokeStyle","lineWidth","shadowBlur","shadowColor","forEach","path","lineTo","stroke","lastPoint","flash","fillStyle","fillRect","LightningSheet","isRoot","sheetX","sheetY","save","scale","arc","PI","closePath","restore","fill","updateCanvasSize","innerWidth","innerHeight","height","$","on","clientX","clientY","resize","loop","clearRect","animate","render","lightningSheet","sheet","requestAnimationFrame","lightningStart","id","weatherDescription","lightMode","RainEffect","LightningEffect","HomePage","isLoader","setIsLoader","getCityWeather","isCityInFav","find","renderFavoriteIcon","Favorites","favCitiesInfo","setFavCitiesInfo","Promise","all","citiesInfo","reduce","acc","info","Object","keys","Error","renderCities","tamp","role","tabIndex","history","handleCityClick","forever","duration","WeatherApp","exect","component","App","basename","ReactDOM","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message","module","exports"],"mappings":"0aAYoBA,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,uDCRSC,EAVK,CAChBC,QAAS,WACTC,eAAgB,mBAChBC,kBAAmB,sBACnBC,mBAAoB,uBACpBC,gBAAiB,mBACjBC,WAAY,cACZC,YAAa,iBCJXC,EAAU,UAHH,wCAGG,OAFJ,uCAGNC,EAAW,wDAEXC,EAAS,4DAKTC,EACE,QADFA,EAEO,aAGPC,EAAsBC,yHAAYC,mBAAqB,mCACvDC,EAAUF,yHAAYC,mBAAqB,mC,iBCZ3CE,EAAgBC,aAAaC,QAAQ,aACrCC,EAAoBF,aAAaC,QAAQ,qBACzCE,EAAsBH,aAAaC,QAAQ,uBAE3CG,EAAeC,IAAU,CAC3BC,KAAM,GACNC,YAAa,CACTC,gBAAiB,GACjBC,SAAU,IAEdC,eAAgBC,KAAKC,MAAMb,IAAkB,GAC7Cc,OAA0C,OAAlCF,KAAKC,MAAMV,IAAqCS,KAAKC,MAAMV,GACnEY,SAA8C,OAApCH,KAAKC,MAAMT,IAAuCQ,KAAKC,MAAMT,KAG5DY,eAAa,mBACvBC,EAAMhC,SAAU,SAACiC,EAAD,OAAUC,EAAV,EAAUA,MAAV,OAAsBD,EAAME,MAAM,CAAC,QAASD,MADrC,cAEvBF,EAAM/B,gBAAiB,SAACgC,EAAD,OAAUG,EAAV,EAAUA,IAAKF,EAAf,EAAeA,MAAf,OAA2BD,EAAME,MAAM,CAAC,cAAeC,GAAMF,MAF7D,cAGvBF,EAAM5B,iBAAkB,SAAC6B,EAAD,OAAUI,EAAV,EAAUA,UAAV,OAA0BJ,EAAMK,IAAI,iBAAkBD,MAHvD,cAIvBL,EAAM3B,YAAa,SAAC4B,EAAD,OAAUM,EAAV,EAAUA,KAAV,OAAqBN,EAAME,MAAM,CAAC,UAAWI,MAJzC,cAKvBP,EAAM1B,aAAc,SAAC2B,EAAD,OAAUM,EAAV,EAAUA,KAAV,OAAqBN,EAAME,MAAM,CAAC,YAAaI,MAL5C,GAMzBnB,GCvBUoB,EAAcC,0BAAgB,CACzCC,gBCQaC,EANDC,sBAAYJ,EADL,GAEjBK,8BACIC,0BAAgBC,O,2ECLlB/C,EAAU,SAAAkC,GAAK,MAAK,CACtBc,KAAMhB,EAAMhC,QACZkC,UAGEjC,EAAiB,SAACmC,EAAKF,GAAN,MAAiB,CACpCc,KAAMhB,EAAM/B,eACZmC,MACAF,UA8BE/B,EAAqB,SAAA+B,GAAU,IAE3Be,EADqBN,EAAMO,WAAWR,YAApChB,eAC0ByB,QAAO,SAAC7B,GAAD,OAAUA,EAAKc,MAAQF,KAGhE,OADAlB,aAAaoC,QAAQ,YAAazB,KAAK0B,UAAUJ,IACzC,CACJD,KAAMhB,EAAM5B,gBACZiC,UAAWY,I,iBC3CJK,E,8EAAf,WAAgClB,GAAhC,2BAAAmB,EAAA,sEACyBC,MAAM,GAAD,OAAIjD,EAAJ,iCAAuC6B,EAAvC,mBAAqDtB,IADnF,cACQ2C,EADR,gBAEsCA,EAASC,OAF/C,cAEQC,EAFR,SAGoDA,EAAsB,IAAM,GAAtEC,EAHV,EAGUA,YAAaC,EAHvB,EAGuBA,YAAaC,EAHpC,EAGoCA,YAC5BC,EAAeD,GAAW,UAAOtD,EAAP,YAAmBsD,EAAYE,WAAWC,SAAS,EAAG,KAAtD,UAJlC,kBAMS,CACLC,MAAOC,cAAIN,EAAa,CAAC,SAAU,SAAU,IAC7CO,MAAOD,cAAIN,EAAa,CAAC,WAAY,SAAU,IAC/CQ,YAAaT,EACbU,IAAKP,IAVT,4C,+BAceQ,E,8EAAf,WAAwCnC,GAAxC,eAAAmB,EAAA,sEACgCD,EAAiBlB,GADjD,OACQZ,EADR,OAGEmB,EAAM6B,SAASvE,EAAe,kBAAmBuB,IAHnD,4C,+BAMeiD,I,2EAAf,oDAAAlB,EAAA,sEACyBC,MAAM,GAAD,OLxBP,wBKwBO,0BAAoC7C,IADlE,cACQ8C,EADR,gBAEoBA,EAASC,OAF7B,cAEQgB,EAFR,OAGU9E,GAAa8E,GAAO,IAApB9E,SACA0B,GAAS1B,GAAY,IAArB0B,KACFqD,OAAuBC,IAATtD,EAAqB,WAAsB,UAATA,EAAmB,OAASA,EALpF,UAO2BuD,EAAyBC,oBAAUH,IAP9D,eAOQI,EAPR,iBAQwBA,EAAW,GARnC,QAQQC,EARR,OASUC,GATV,EAS0CD,GAAW,IAA3CC,cAAeC,EATzB,EASyBA,QAASC,EATlC,EASkCA,IAC1BC,EAAUF,EAAQD,cAClBI,EAAa,CAAEC,MAAOL,EAAe7C,IAAK+C,EAAKC,QAASA,GAE9DzC,EAAM6B,SAASxE,EAAQqF,IAbzB,6C,+BAgBeR,E,8EAAf,WAAwC3C,GAAxC,iBAAAqB,EAAA,sEACyBC,MAAM,GAAD,OAAIjD,EAAJ,oDAA0DO,EAA1D,cAAuEoB,IADrG,cACQuB,EADR,gBAEuBA,EAASC,OAFhC,cAEQ6B,EAFR,yBAISA,GAJT,4C,+BAOeC,E,gFAAf,WAAoCpD,EAAKqD,GAAzC,mBAAAlC,EAAA,sEACyBC,MAAM,GAAD,OAAIjD,EAAJ,oCAA0C6B,EAA1C,mBAAwDtB,EAAxD,mBAA0E2E,IADxG,cACQhC,EADR,gBAEyBA,EAASC,OAFlC,cAEQjC,EAFR,OAGUiE,GAAmBjE,GAAY,IAA/BiE,eAHV,kBAKSA,EAAeC,KAAI,SAACC,GAAD,MAAU,CAClCC,KAAMD,EAAIE,KACVC,KAAM,CACJC,IAAK7B,cAAIyB,EAAI/B,YAAa,CAAC,UAAW,SAAU,IAChDoC,IAAK9B,cAAIyB,EAAI/B,YAAa,CAAC,UAAW,SAAU,KAElDqC,QAAS,CACPC,KAAMhC,cAAIyB,EAAIQ,IAAK,CAAC,QAAS,IAC7BC,KAAMlC,cAAIyB,EAAIQ,IAAK,CAAC,cAAe,UAbzC,4C,+BAkBeE,G,mFAAf,WAA8BlE,EAAKqD,GAAnC,eAAAlC,EAAA,sEACyBiC,EAAqBpD,EAAKqD,GADnD,OACQhE,EADR,OAEEkB,EAAM6B,SAASvE,EAAe,WAAYwB,IAF5C,4C,6BCXA,ICrDe8E,GDyDAC,kBAAQC,aAJC,SAAAxE,GAAK,MAAK,CAC9BH,SAAUG,EAAMS,YAAYZ,aAGiB4E,IAAlCF,EAjDf,SAAgBG,GAAQ,IACFC,EAAyBD,EAArC/G,SAAYgH,SAAY9E,EAAa6E,EAAb7E,SAgBhC,OAdE+E,qBAAU,WACN,sBAAC,sBAAAtD,EAAA,+EAEakB,IAFb,sDAKOqC,QAAQC,IAAI,yBALnB,uBAQOD,QAAQC,IAAI,uBARnB,yEAAD,KAWD,IAGD,yBAAKC,UAAS,iBAAalF,EAAiC,GAAtB,sBAClC,yBAAKkF,UAAW,gBACZ,yBAAKC,IAAKC,IAAMC,IAAK,SACrB,0BAAMH,UAAW,QAAjB,UAEJ,yBAAKA,UAAW,mBACZ,kBAAC,IAAD,CAAMI,GAAI1G,GACN,kBAAC2G,EAAA,EAAD,CACMC,QAAQ,OACRN,UAAYJ,IAAalG,EAAc,SAAW,IAFxD,SAOJ,kBAAC,IAAD,CAAM0G,GAAI1G,GACN,kBAAC2G,EAAA,EAAD,CACIC,QAAQ,OACRN,UAAWJ,IAAalG,EAAmB,SAAW,IAF1D,mB,gGEjBH,GAdI,UAcJ,GATI,UCYb6G,I,OAAM,4BAsFZ,ICjHeC,GDqHAhB,kBACbC,aALsB,SAAAxE,GAAK,MAAK,CAC9BH,SAAUG,EAAMS,YAAYZ,YAIL,CAAE9B,UAASC,mBACpCwH,cA7Ga,iBAAO,CAClBC,UAAW,CACP,+BAAgC,CAC5BC,YAAY,GAAD,OAAKC,GAAL,iBAGnBC,UAAW,CACPC,QAAS,QAEbC,MAAO,CACHC,gBAAgB,GAAD,OAAKJ,GAAL,eACf,cAAe,CACXI,gBAAgB,GAAD,OAAKJ,GAAL,qBA+FZpB,EAxFf,SAAsBG,GAAQ,IAClBsB,EAAsBtB,EAAtBsB,QAASnG,EAAa6E,EAAb7E,SADQ,EAEDoG,oBAAS,GAFR,oBAElBC,EAFkB,KAEZC,EAFY,OAGKF,mBAAS,IAHd,oBAGlBG,EAHkB,KAGTC,EAHS,OAIKJ,oBAAS,GAJd,oBAIlBK,EAJkB,KAITC,EAJS,OAKWN,mBAAS,IALpB,oBAKlBO,EALkB,KAKNC,EALM,KAMnBC,EAAUR,GAA2B,IAAnBE,EAAQO,OANP,4CAQzB,WAAuCC,EAAG3G,GAA1C,eAAAqB,EAAA,yDAEImF,EAAcxG,KAEVA,EAAM0G,OAAS,GAJvB,yCAKeR,GAAQ,IALvB,YAOQlG,EAAM0G,OAAS,GAAKT,GAP5B,yCAQeC,GAAQ,IARvB,cAUSD,GACDC,GAAQ,GAXhB,kBAc6BvD,EAAyB3C,GAdtD,OAccqD,EAdd,OAeQiD,GAAW,GACXF,EAAW/C,EAAOI,KAAI,SAACrE,GAAD,MAClB,CAAEgE,MAAOhE,EAAK2D,cAAe7C,IAAKd,EAAK6D,IAAKC,QAAS9D,EAAK4D,QAAQD,mBAjB9E,kDAqBQuD,GAAW,GArBnB,2DARyB,sBAuCzB,OANA3B,qBAAU,WACDsB,GACDG,EAAW,MAEhB,CAACH,IAGA,kBAACW,GAAA,EAAD,CACI9B,UAAS,wBAAoBlF,EAA0B,GAAf,cACxCqG,KAAMA,EACNY,QAAS,kBAAMX,GAAQ,IACvBY,SAAU,SAACH,EAAG3G,GACLA,GACLyE,EAAM3G,QAAQkC,GAAS,KAE3BA,MAAOuG,EACPQ,cAjDiB,8CAkDjBC,eAAgB,SAACC,GAAD,OAAYA,GAAUA,EAAO7D,OAAjB,UAA6B6D,EAAO7D,MAApC,aAA8C6D,EAAO/D,UACjFiD,QAASA,EACTM,QAASA,EACTV,QAAS,CAAEmB,eAAgBnB,EAAQJ,UAAWE,MAAOE,EAAQF,OAC7DsB,YAAa,SAACC,GAAD,OACT,kBAACC,GAAA,EAAD,iBACQD,EADR,CAEIE,YAAY,cACZC,WAAS,EACTvH,MAAOuG,EACPO,SAAU,SAACH,GACFtB,GAAImC,KAAKb,EAAEc,OAAOzH,QAGvBwG,EAAcD,IAElBnB,QAAQ,WACRsC,WAAYrB,ET3FV,+DS2FuC,IACzCsB,WAAU,6BACHP,EAAOO,YADJ,IAEN5B,QAAS,CAAE6B,KAAM7B,EAAQP,WACzBqC,aACI,oCACCpB,EAAU,kBAACqB,GAAA,EAAD,CAAkBC,MAAM,UAAUC,KAAM,KAAS,KAC3DZ,EAAOO,WAAWE,yB,iBEzC/C,IC9DeI,GDqEA1D,aAPS,SAAAxE,GAAK,MAAK,CAC9BX,KAAMW,EAAMS,YAAYpB,KACxBC,YAAaU,EAAMS,YAAYnB,YAC/BM,OAAQI,EAAMS,YAAYb,OAC1BC,SAAUG,EAAMS,YAAYZ,YAGQ,CAAEsI,cPzDpB,SAAA7H,GAElB,OADAvB,aAAaoC,QAAQ,oBAAqBzB,KAAK0B,UAAUd,IACjD,CACJS,KAAMhB,EAAM3B,WACZkC,SOqDiDjC,YPjDrC,SAAAiC,GAEhB,OADAvB,aAAaoC,QAAQ,sBAAuBzB,KAAK0B,UAAUd,IACnD,CACJS,KAAMhB,EAAM1B,YACZiC,UO6COkE,EAjEf,SAAwBE,GAAQ,IAAD,EACmDA,EAAtErF,KAAe+I,EADI,EACX/E,MAAiBF,EADN,EACMA,QAAW7D,EAAkCoF,EAAlCpF,YAAaM,EAAqB8E,EAArB9E,OAAQC,EAAa6E,EAAb7E,SADtC,GAECP,GAAe,IAAnCC,iBACsD,GAAtD0C,EAHmB,EAGnBA,MAAOE,EAHY,EAGZA,MAAOC,EAHK,EAGLA,YAAaC,EAHR,EAGQA,IAC7BgG,EAASzI,EAASqC,EAAQE,EAEhC,OACI,yBAAK4C,UAAS,kCAA8BlF,EAA0C,GAA/B,+BACnD,yBAAKkF,UAAW,YAAhB,UAAgCqD,EAAhC,aAA6CjF,IAC7C,yBAAK4B,UAAW,eAAgB3C,GAChC,yBAAK2C,UAAW,qBACX1C,GAAO,yBACJ2C,IAAK3C,EACL6C,IAAI,eACJH,UAAW,QAEf,yBAAKA,UAAW,UACXuD,KAAKC,MAAMF,GADhB,OAGI,0BAAMtD,UAAW,iBAAkBnF,EAAS,IAAM,OAG1D,yBAAKmF,UAAW,iBACZ,kBAACyD,GAAA,EAAD,CAAaC,kBAAgB,EAACpD,QAAQ,aAClC,kBAACD,EAAA,EAAD,CACIL,UAAS,UAAKnF,EAAS,SAAW,IAClC8I,QAAS,kBAAMhE,EAAMyD,eAAc,KAFvC,WAMA,kBAAC/C,EAAA,EAAD,CACIL,UAAS,UAAMnF,EAAoB,GAAX,UACxB8I,QAAS,kBAAMhE,EAAMyD,eAAc,KAFvC,gBAQR,yBAAKpD,UAAW,iBACZ,kBAACyD,GAAA,EAAD,CAAaC,kBAAgB,EAACpD,QAAQ,aAClC,kBAACD,EAAA,EAAD,CACIL,UAAS,UAAKlF,EAAW,SAAW,IACpC6I,QAAS,kBAAMhE,EAAMrG,aAAY,KAFrC,QAMA,kBAAC+G,EAAA,EAAD,CACIL,UAAS,UAAMlF,EAAsB,GAAX,UAC1B6I,QAAS,kBAAMhE,EAAMrG,aAAY,KAFrC,e,0BEbpB,ICrCesK,GD0CAnE,aALS,SAACxE,GAAD,MAAY,CAChCJ,OAAQI,EAAMS,YAAYb,OAC1BC,SAAUG,EAAMS,YAAYZ,YAGjB2E,EAtCf,SAAwBE,GAAQ,IACpBkE,EAAiDlE,EAAjDkE,WAAYC,EAAqCnE,EAArCmE,QAASC,EAA4BpE,EAA5BoE,MAAOlJ,EAAqB8E,EAArB9E,OAAQC,EAAa6E,EAAb7E,SACpCiE,EAAwB8E,EAAxB9E,KAAMG,EAAkB2E,EAAlB3E,QAASL,EAASgF,EAAThF,KACVmF,EAA0BjF,EAA/BC,IAAmBiF,EAAYlF,EAAjBE,IAEtB,OACI,kBAAC,QAAD,CAAMiF,SAAO,EAACC,MAAO,IAAMJ,GACvB,yBAAK/D,UAAS,uBAAmBlF,EAA+B,GAApB,oBACxC,yBAAKkF,UAAS,mBAAc8D,EAAU,QAAU,KAC3C,IAAIhF,KAAKD,GAAM7B,WAAWoH,MAAM,KAAK,IAE1C,yBAAKpE,UAAW,eACZ,yBACIC,IAAG,UAAKzG,EAAL,YAAiB0F,EAAQC,KAAKnC,WAAWC,SAAS,EAAG,KAArD,UACHkD,IAAI,qBACJH,UAAW,UAGnB,yBAAKA,UAAW,YACZ,0BAAMA,UAAW,mBAAjB,MACCuD,KAAKC,MAAMQ,GAFhB,OAII,0BAAMhE,UAAW,eAAgBnF,EAAS,IAAM,KAChD,0BAAMmF,UAAW,oBAAjB,MACCuD,KAAKC,MAAMS,GANhB,OAQI,0BAAMjE,UAAW,eAAgBnF,EAAS,IAAM,W,OEZpE,IClBewJ,GDuBA5E,aALS,SAAAxE,GAAK,MAAK,CAC9BV,YAAaU,EAAMS,YAAYnB,YAC/BO,SAAUG,EAAMS,YAAYZ,YAGjB2E,EAnBf,SAAkBE,GAAQ,IAChBpF,EAA0BoF,EAA1BpF,YAAaO,EAAa6E,EAAb7E,SAErB,OACI,yBAAKkF,UAAS,2BAAuBlF,EAAmC,GAAxB,wBAC5C,yBAAKkF,UAAW,SACXzF,EAAYE,SAASkE,KAAI,SAAC2F,EAAMC,GAAP,OACtB,kBAAC,GAAD,CAAgBV,WAAYS,EAAMlJ,IAAKoJ,eAAUV,SAAUS,EAAGR,MAAOQ,Y,OEVxE,SAASE,GAAKC,GAEzB,SAASC,IACL,IAAMC,EAA2C,IAAlCrB,KAAKsB,MAAsB,EAAhBtB,KAAKuB,UAAsB,GAAK,EACpDC,EAAexB,KAAKsB,MAAMD,GAA0B,IAAhBrB,KAAKuB,WACzCE,EAAK,UAAMD,EAAN,MACLE,EAAgB1B,KAAKsB,MAAsB,IAAhBtB,KAAKuB,UAGtC,MAAO,CAAEI,KAFG,UAAMD,EAAN,MAEWE,IAAKH,GAGhC,OACI,yBAAKhF,UAAU,2BACX,yBAAKA,UAAS,sBAA2B,IAAV0E,EAAc,OAAS,KACjD,YAAIU,MAAM,GAAKV,IAAQ/F,KAAI,SAAC0G,EAAItB,GAAL,OAAe,uBAAG3I,IAAK2I,EAAOuB,MAAOX,W,iDCdlE,SAASY,KA0ZpB,OAxZA,WAOI,IAkBMC,EAAe,WACjB,OAAQ,IAAI1G,MAAQ2G,WAGlBX,EAAS,WAAgC,IAA/B7F,EAA8B,uDAAxB,EAAGyG,EAAqB,wDAC1C,OAAOA,EAAoC,GAAvBnC,KAAKuB,SAAW,IAAY7F,EAAMsE,KAAKuB,SAAW7F,GAMpE0G,EAAkBC,SAASC,eAAe,aAC1CC,EAAMH,GAAmBA,EAAgBI,WAAW,MACpDC,EAAuBJ,SAASC,eAAe,kBAC/CI,EAAQD,GAAwBA,EAAqBD,WAAW,MAChEG,EAAuBN,SAASC,eAAe,kBAC/CM,EAAQD,GAAwBA,EAAqBH,WAAW,MAIlEK,EAAY,GACZC,EAAiB,GACjBC,EAAU,GACVC,EAAkB,GAElBC,EAAa,EACbC,EAAc,EACdC,EAAoBlB,IAyDlBD,EA7GgB,WA+GlB,WAAYoB,EAAIC,EAAIC,GAA2C,IAApCC,EAAmC,wDAAjBC,EAAiB,4DAC1D,IAEIC,EAFEC,EAAIN,GAAO7B,EAAO0B,GAClBU,EAAIN,GAAO,GAAK9B,EAAO,KAG7BqC,KAAKC,MAAQ,GACbD,KAAKE,IAAM,IACXF,KAAKG,MAAQ,IACbH,KAAKI,KAAO,IACZJ,KAAKK,MAAQ,EACbL,KAAKM,UAAW,EAChBN,KAAKN,MAAQA,GAAS/B,EA7GZ,GA6GgC,EAC1CqC,KAAKL,SAAWA,EAChBK,KAAKO,WAAaZ,EAAW,IAAM,EACnCK,KAAKJ,gBAAkBA,GAA2C,GAAvBxD,KAAKuB,SAAW,IAC3DqC,KAAKQ,aAAe,EACpBR,KAAKS,OAAS,GAEdT,KAAKC,MAAMS,KAAK,CACZZ,IACAC,MAIAZ,EAAQuB,KAAK,IAAIC,EAAMX,KAAKN,QAG3BM,KAAKL,WACNE,EAAW,IAAIe,EAAed,EAAGC,EAAGC,KAAKN,OACzCR,EAAewB,KAAKb,GACpBG,KAAKS,OAAOC,KAAKb,IAGjBG,KAAKL,WACLK,KAAKN,MAAQ,GAjJH,uDAsJd,IAAMmB,EAAW,EAAIlD,EAAO,GACtBmD,EAAed,KAAKL,SAnIL,GAFP,IAuId,IAAKK,KAAKM,SAAU,CAQhB,IAPA,IAGIS,EAAMC,EAHJC,EAAgBjB,KAAKkB,eACvBC,EAAQF,EAAcnB,EACtBsB,EAAQH,EAAclB,EAKjB3C,EAAI,EAAGA,EAAIyD,EAAUzD,IAK1B+D,EAHAJ,EAAOI,EAxJA,GAuJOnB,KAAKL,SAAWK,KAAKJ,gBAA0C,GAAvBxD,KAAKuB,SAAW,KACzBqC,KAAKO,WAIlDa,EAHAJ,EAAOI,EAAQzD,EAxJR,GAwJiC,EAIxCqC,KAAKC,MAAMS,KAAK,CACZZ,EAAGiB,EACHhB,EAAGiB,IAGHhB,KAAKL,UAAYhC,IAAW,KAC5BsB,EAAUyB,KAAK,IAAItC,EAAU+C,EAAOC,EAAOpB,KAAKN,OAAO,IAK/DM,KAAKM,SACDc,EAAQ9B,EAAc,IACrB3B,IAAW,IAAOqC,KAAKC,MAAMxF,OAAS4G,IACvCrB,KAAKC,MAAMxF,OA5KR,KA6KFuF,KAAKL,UAAYK,KAAKC,MAAMxF,OAAS,EAKtCkD,IAAWmD,GACXd,KAAKC,MAAMxF,OAAS,GACpBuF,KAAKC,MAAMxF,OAAS4G,IAEpBpC,EAAUyB,KAAK,IAAItC,EAAU+C,EAAOC,EAAOpB,KAAKN,OAAO,IAK3DM,KAAKK,MAAQ,IACbL,KAAKK,OAvLM,KA0LPL,KAAKK,MAAQ,KACbL,KAAKG,OAAS,KAGdH,KAAKL,WACLK,KAAKK,OAASiB,SAMjBtB,KAAKL,UACNhC,IAlMW,MAmMXqC,KAAKQ,aAAe,GACpBR,KAAKK,MAAQ,KAEbL,KAAKK,MAAQ,EACbL,KAAKG,MAAQ,IACbH,KAAKQ,eAELR,KAAKS,OAAOjJ,KAAI,SAAC+J,GAEb,OADAA,EAAMlB,MAAQ1C,EAAO,IAAO,GACrB4D,EAAMlB,WAKhBL,KAAKL,UAAaK,KAAKQ,aAAe,GACvCR,KAAKK,MAAQ,KAEbL,KAAKK,MAAQ,KAvOH,+BA4Od,IAAMmB,EAASxB,KAAKyB,YAEpB9C,GAAOA,EAAI+C,YACX/C,IAAQA,EAAIgD,YAAcH,GAC1B7C,IAAQA,EAAIiD,UAAY5B,KAAKN,OAEH,IAAtBM,KAAKQ,eACL7B,IAAQA,EAAIkD,WAA0B,EAAb7B,KAAKN,OAC9Bf,IAAQA,EAAImD,YAAcN,IAG9BxB,KAAKC,MAAM8B,SAAQ,SAACC,GAChBrD,GAAOA,EAAIsD,OAAOD,EAAKlC,EAAGkC,EAAKjC,MAGnCpB,GAAOA,EAAIuD,WA3PG,gCA8PRhC,EAAKC,EAAOC,EAAMC,GACxB,MAAM,QAAN,OAAeH,GAAOF,KAAKE,IAA3B,aAAmCC,GAASH,KAAKG,MAAjD,aAA2DC,GAAQJ,KAAKI,KAAxE,aAAiFC,GAASL,KAAKK,MAA/F,OA/Pc,qCAmQd,GAAIL,KAAKC,MAAMxF,OAAS,EAAG,CACvB,IAAM0H,EAAYnC,KAAKC,MAAMD,KAAKC,MAAMxF,OAAS,GAEjD,MAAO,CACHqF,EAAGqC,EAAUrC,EACbC,EAAGoC,EAAUpC,GAGjB,MAAO,CAACD,EAAG,EAAGC,EAAG,OA3QP,KAiRhBY,EAjRgB,WAmRlB,aAAwB,IAAZyB,EAAW,uDAAH,EAAG,qBACnBpC,KAAKK,MAAQ,IAAO+B,EApRN,uDAwRdpC,KAAKK,OAASiB,OAxRA,+BA4Rd3C,GAAOA,EAAI+C,YACX/C,IAAQA,EAAI0D,UAAJ,2BAAoCrC,KAAKK,MAAzC,MACR1B,GAAOA,EAAI2D,SAAS,EAAG,EAAGjD,EAAYC,OA9RxB,KAmShBiD,EAnSgB,WAqSlB,WAAYzC,EAAGC,GAAmB,IAAhByC,IAAe,yDAS7B,GAT6B,qBAC7BxC,KAAKK,MAAQ1C,EAAO,IAAO,GAC3BqC,KAAKF,EAAIA,GAAKnC,EAAO0B,GACrBW,KAAKD,EAAIA,GAAKpC,EAAqB,GAAd2B,GAAqB,IAC1CU,KAAKjE,KAAO4B,EAAO,IAAM,GAGzBqC,KAAKjE,MAAQ,EAAKiE,KAAKD,EAAIT,EAAc,IAAQU,KAAKjE,KAElDyG,EAGA,IAFA,IAAIC,EAAQC,EAEHtF,EAAI,EAAGA,EAAIO,EAAO,IAAM,EAAGP,IAChCqF,EAASzC,KAAKF,EAAInC,EAAO,KAAK,GAC9B+E,EAAS1C,KAAKD,EAAIpC,EAAO,IAAI,GAC7ByB,EAAgBsB,KAAK,IAAI6B,EAAeE,EAAQC,GAAQ,IApTlD,uDA0Td1C,KAAKK,OAASiB,MAGVtB,KAAKK,MAAQ,IACb1C,IAAW,OAEXqC,KAAKK,OAAS1C,EAAO,OAhUX,+BAqUdqB,GAASA,EAAM2D,OAEf3D,GAASA,EAAM4D,MAAM,EAAG,GAExB5D,GAASA,EAAM0C,YACf1C,GAASA,EAAM6D,IAAI7C,KAAKF,EAAI,EAAGE,KAAKD,EAAGC,KAAKjE,KAAM,EAAIK,KAAK0G,IAAI,GAC/D9D,GAASA,EAAM+D,YACf/D,GAASA,EAAMgE,UAEfhE,IAAUA,EAAMhK,OAAN,eAAuBgL,KAAKjE,KAA5B,QACViD,IAAUA,EAAMqD,UAAN,8BAAyCrC,KAAKK,MAA9C,MACVrB,GAASA,EAAMiE,OACfjE,IAAUA,EAAM8C,YAAc,WAC9B9C,IAAUA,EAAM6C,WAAa7B,KAAKjE,UAlVpB,KAsVhB6E,EAtVgB,WAwVlB,WAAYd,EAAGC,EAAGhE,GAAO,qBACrBiE,KAAKF,EAAIA,EACTE,KAAKD,EAAIA,EACTC,KAAKjE,KAAc,EAAPA,EAAW4B,EAAO,GAAK,GACnCqC,KAAKK,MAAQ,EA5VC,uDAgWdL,KAAKK,OAjVU,OAfD,+BAoWdvB,GAASA,EAAM6D,OAEf7D,GAASA,EAAM8D,MAAM,IAAK,GAE1B9D,GAASA,EAAM4C,YACf5C,GAASA,EAAM+D,IAAI7C,KAAKF,EAAI,IAAKE,KAAKD,EAAGC,KAAKjE,KAAM,EAAIK,KAAK0G,IAAI,GACjEhE,GAASA,EAAMkE,UAEflE,IAAUA,EAAM9J,OAAN,eAAuBgL,KAAKjE,KAA5B,QACV+C,IAAUA,EAAMuD,UAAN,8BAAyCrC,KAAKK,MAA9C,MACVvB,GAASA,EAAMmE,OACfnE,IAAUA,EAAMgD,YAAc,WAC9BhD,IAAUA,EAAM+C,WAA0B,EAAZ7B,KAAKjE,KAAY,QAhXjC,KAyXhBmH,EAAmB,WACrB7D,EAAa7N,OAAO2R,WACpB7D,EAAc9N,OAAO4R,YAErB5E,IAAoBA,EAAgBkB,MAAQL,GAC5Cb,IAAoBA,EAAgB6E,OAAS/D,GAE7CT,IAAyBA,EAAqBa,MAAQL,GACtDR,IAAyBA,EAAqBwE,OAAS/D,GAEvDP,IAAyBA,EAAqBW,MAAQL,GACtDN,IAAyBA,EAAqBsE,OAAuB,GAAd/D,IAG3DgE,KAAE9R,QAAQ+R,GAAG,aAAa,SAAC7I,GACvBuE,EAAUyB,KAAK,IAAItC,EAAU1D,EAAE8I,QAAS9I,EAAE+I,aAG9CP,IACAI,KAAE9R,QAAQkS,OAAOR,GAMjBjE,EAAUyB,KAAK,IAAItC,EAAU,IAAK,MA5VrB,SAAPuF,IACFhF,GAAOA,EAAIiF,UAAU,EAAG,EAAGvE,EAAYC,GACvCR,GAASA,EAAM8E,UAAU,EAAG,EAAGvE,EAAYC,GAC3CN,GAASA,EAAM4E,UAAU,EAAG,EAAGvE,EAAYC,GAE3CL,EAAU8C,SAAQ,SAACC,GACfA,EAAK6B,UACL7B,EAAK8B,YAIL5E,EAAe6C,SAAQ,SAACR,GACpBA,EAAMsC,UACNtC,EAAMuC,YAGV1E,EAAgB2C,SAAQ,SAACgC,GACrBA,EAAeF,UACfE,EAAeD,YAQnB3E,EAAQ4C,SAAQ,SAACC,GACbA,EAAK6B,UACL7B,EAAK8B,YAMTnG,IAvEiB,KAwEjBU,IAAiBkB,EAjFM,MAoFnB5B,IAAW,GACXsB,EAAUyB,KAAK,IAAItC,GAEnBgB,EAAgBsB,KAAK,IAAI6B,GAG7BhD,EAAoBlB,KAGxBY,EAAYA,EAAUjK,QAAO,SAAAgN,GAAI,OAAIA,EAAK3B,MAAQ,KAClDnB,EAAiBA,EAAelK,QAAO,SAAAuM,GAAK,OAAIA,EAAMlB,MAAQ,KAC9DlB,EAAUA,EAAQnK,QAAO,SAAAgP,GAAK,OAAIA,EAAM3D,MAAQ,KAChDjB,EAAkBA,EAAgBpK,QAAO,SAAAgP,GAAK,OAAIA,EAAM3D,MAAQ,KAEhE4D,sBAAsBN,GAyS1BA,GAGJO,GAGI,kBAAC,WAAD,KACI,4BAAQC,GAAG,e,OCpUvB,IAIe7L,gBAJS,SAAAxE,GAAK,MAAK,CAC9BH,SAAUG,EAAMS,YAAYZ,YAGjB2E,EAzFf,SAAqBE,GAAQ,IACjB4L,EAAiC5L,EAAjC4L,mBACFC,EADmC7L,EAAb7E,SAC8B,GAA5B,0BAE9B,OAAQyQ,GACJ,IAAK,gBACL,IAAK,sBACL,IAAK,SACL,IAAK,gBACL,IAAK,oBACL,IAAK,WACL,IAAK,4BACL,IAAK,2BACL,IAAK,QACL,IAAK,MAED,OAAO,yBAAKvL,UAAS,8BAAyBwL,IAC1C,yBAAKxL,UAAU,UACf,yBAAKA,UAAU,WAGvB,IAAK,UACL,IAAK,OACL,IAAK,QACL,IAAK,gBACL,IAAK,2BACD,OAAO,kBAAC,WAAD,KACFyL,GAAW,GACZ,yBAAKzL,UAAS,6BAAwBwL,IAClC,yBAAKxL,UAAU,UACf,yBAAKA,UAAU,WAI3B,IAAK,2BACL,IAAK,0BACD,OAAO,kBAAC,WAAD,KACFyL,GAAW,GACZ,yBAAKzL,UAAS,kCAA6BwL,IACvC,yBAAKxL,UAAU,UACf,yBAAKA,UAAU,OACX,yBAAKA,UAAU,UAEnB,yBAAKA,UAAU,WAI3B,IAAK,WACL,IAAK,eACL,IAAK,4BACL,IAAK,2BACD,OAAO,kBAAC,WAAD,KACFyL,GAAW,GACXC,KACD,yBAAK1L,UAAS,qCAAgCwL,IAC1C,yBAAKxL,UAAU,UACf,yBAAKA,UAAU,aACX,yBAAKA,UAAU,SACf,yBAAKA,UAAU,YAK/B,IAAK,MACL,IAAK,OACL,IAAK,gBACL,IAAK,wBACD,OAAO,yBAAKA,UAAS,gCAA2BwL,IAC5C,yBAAKxL,UAAU,UACf,yBAAKA,UAAU,QACX,yBAAKA,UAAU,UACf,yBAAKA,UAAU,YAI3B,QACI,OAAO,yBAAKA,UAAS,6BAAwBwL,IACzC,yBAAKxL,UAAU,OACX,yBAAKA,UAAU,e,OC6CnC,IChIe2L,GDwIAlM,aARS,SAAAxE,GAAK,MAAK,CAC9BX,KAAMW,EAAMS,YAAYpB,KACxBC,YAAaU,EAAMS,YAAYnB,YAC/BG,eAAgBO,EAAMS,YAAYhB,eAClCG,OAAQI,EAAMS,YAAYb,OAC1BC,SAAUG,EAAMS,YAAYZ,YAGQ,CAAE7B,iBAAgBC,kBhB5GhC,SAAAgC,GAAU,IACxBR,EAAmBiB,EAAMO,WAAWR,YAApChB,eACFuB,EAAU,sBAAOvB,GAAP,CAAuBQ,IAGvC,OADAlB,aAAaoC,QAAQ,YAAazB,KAAK0B,UAAUJ,IACzC,CACJD,KAAMhB,EAAM5B,gBACZiC,UAAWY,IgBqG0D9C,sBAA9DsG,EA1Hf,SAAkBE,GAAQ,IAAD,EACmDA,EAAhErF,KADa,IACLc,WADK,MACC,GADD,EACKkD,EADL,EACKA,MAAS5D,EAAqCiF,EAArCjF,eAAgBG,EAAqB8E,EAArB9E,OAAQC,EAAa6E,EAAb7E,SADtC,EAEWoG,oBAAS,GAFpB,oBAEd0K,EAFc,KAEJC,EAFI,OAGS3K,oBAAS,GAHlB,oBAGdK,EAHc,KAGLC,EAHK,KAqBrB,SAASsK,IACA1Q,GACL,sBAAC,sBAAAmB,EAAA,sEAEOsP,GAAY,GAFnB,SAGahO,EAAyBS,GAHtC,uBAIaf,EAAyBnC,GAJtC,uBAKakE,GAAelE,EAAKP,GALjC,OAMO2G,GAAW,GANlB,kDASOA,GAAW,GATlB,yBAYOqK,GAAY,GAZnB,4EAAD,GAlBJhM,qBAAU,WACN,sBAAC,sBAAAtD,EAAA,sEAEOsP,GAAY,GAFnB,SAGavM,GAAelE,EAAKP,GAHjC,OAIO2G,GAAW,GAJlB,gDAOOA,GAAW,GAPlB,yBAUOqK,GAAY,GAVnB,2EAAD,KAaD,CAAChR,EAAQO,IAqBZyE,oBAAUiM,EAAgB,CAAC1Q,IAwD3B,IAAMmQ,EAAqB5L,EAAMpF,YAAYC,gBAAgB6C,YAE7D,OACI,yBAAK2C,UAAS,oBAAgBlF,EAAoC,GAAzB,yBACrC,kBAAC,GAAD,MAjCR,WACI,IAAMiR,IAAgBrR,EAAesR,MAAK,SAAA1R,GAAI,OAAIA,EAAKc,MAAQuE,EAAMrF,KAAKc,OAE1E,OAAOmG,EAAU,KACXwK,EACI,kBAAC,KAAD,CACE/L,UAAS,yBACT2D,QAAS,WACAoI,EAIDpM,EAAMxG,mBAAmBiC,GAHzBuE,EAAMzG,kBAAkByG,EAAMrF,SAOxC,kBAAC,KAAD,CACE0F,UAAS,gBACT2D,QAAS,WACAoI,EAIDpM,EAAMxG,mBAAmBiC,GAHzBuE,EAAMzG,kBAAkByG,EAAMrF,SAc7C2R,GACD,yBAAKjM,UAAS,wBA3Dd4L,EACO,yBAAK5L,UAAW,UACnB,kBAACgD,GAAA,EAAD,OAGJzB,EAEI,yBAAKvB,UAAW,iBACZ,yBAAKA,UAAW,aAAcvG,GAC9B,kBAAC4G,EAAA,EAAD,CACIC,QAAQ,OACRqD,QAASmI,GAFb,cASL,CACH,kBAAC,GAAD,CAAgB1Q,IAAI,mBACpB,kBAAC,GAAD,CAAUA,IAAI,eAyCRmG,IAAYqK,GAAY,kBAAC,GAAD,CAAaL,mBAAoBA,KAE9DhK,GAAW,yBAAKvB,UAAW,SACvByL,GAAW,GACXC,U,+CEqBjB,IC/IeQ,GDsJAzM,aAPS,SAAAxE,GAAK,MAAK,CAC9BP,eAAgBO,EAAMS,YAAYhB,eAClCH,YAAaU,EAAMS,YAAYnB,YAC/BM,OAAQI,EAAMS,YAAYb,OAC1BC,SAAUG,EAAMS,YAAYZ,YAGQ,CAAE9B,UAASG,sBAApCsG,EA1If,SAAmBE,GAAQ,IAAD,EAC4BA,EAA1CjF,sBADc,MACG,GADH,EACOG,EAAqB8E,EAArB9E,OAAQC,EAAa6E,EAAb7E,SADf,EAEUoG,oBAAS,GAFnB,oBAEf0K,EAFe,KAELC,EAFK,OAGQ3K,oBAAS,GAHjB,oBAGfK,EAHe,KAGNC,EAHM,OAIoBN,mBAAS,IAJ7B,oBAIfiL,EAJe,KAIAC,EAJA,KAWtB,SAASN,IACL,sBAAC,8BAAAvP,EAAA,sEAEOsP,GAAY,GAFnB,SAG4BQ,QAAQC,IAAI5R,EAAeiE,KAAI,SAACrE,GAAD,OAAUgC,EAAiBhC,EAAKc,IAAKP,OAHhG,UAGa0D,EAHb,OAIagO,EAAahO,EAAOiO,QAAO,SAACC,EAAKC,EAAMnI,GAAZ,oBAAC,gBAC3BkI,GAD0B,kBAE5B/R,EAAe6J,GAAGnJ,IAAMsR,MACzB,KAEAhS,EAAekH,QAAW+K,OAAOC,KAAKL,GAAY3K,OAT7D,sBAUiB,IAAIiL,MAVrB,OAYOT,EAAiBG,GACjB/K,GAAW,GAblB,kDAgBOA,GAAW,GAhBlB,yBAmBOqK,GAAY,GAnBnB,4EAAD,GAsCJ,SAASiB,IACL,OAAKpS,EAAekH,OAIblH,EAAeiE,KAAI,SAACrE,EAAMyJ,GAC7B,IAAMgJ,EAAOlS,EAASsR,EAAc7R,EAAKc,KAAK8B,MAAQiP,EAAc7R,EAAKc,KAAKgC,MAE9E,OAAO,kBAAC,QAAD,CAAM8G,SAAO,EAACC,MAAO,IAAMJ,EAAO3I,IAAKd,EAAKc,KAC/C,yBAAKA,IAAKd,EAAKc,IAAK4E,UAAS,sBACzB,yBACIA,UAAW,eACXgN,KAAK,SACLC,SAAU,EACVtJ,QAAS,kBA1D7B,SAAyBrJ,GACrBqF,EAAM3G,QAAQsB,GACdqF,EAAMuN,QAAQrF,KAAKnO,GAwDYyT,CAAgB7S,KAE/B,yBAAK0F,UAAW,aACX1F,EAAKgE,OAEV,yBAAK0B,UAAW,QACXuD,KAAKC,MAAMuJ,GADhB,OAGI,0BAAM/M,UAAW,eAAgBnF,EAAS,IAAM,MAEpD,yBAAKmF,UAAW,eACXmM,EAAc7R,EAAKc,KAAKiC,cAGhC8O,EAAc7R,EAAKc,KAAKkC,KACrB,yBAAK0C,UAAW,mBACZ,yBACIC,IAAKkM,EAAc7R,EAAKc,KAAKkC,IAC7B6C,IAAI,eACJH,UAAW,SAIvB,yBAAKA,UAAW,uBACZ,kBAAC,KAAD,CACIA,UAAW,cACX2D,QAAS,WACLhE,EAAMxG,mBAAmBmB,EAAKc,cAnDlD,yBAAK4E,UAAW,0BACZ,8BtB/CY,uIsBgDZ,kBAAC,KAAD,CAAOoN,SAAO,EAACC,SAAU,KACrB,kBAAC,KAAD,CAAoBrN,UAAS,oBA6E7C,OApFAH,oBAAUiM,EAAgB,IAqFtB,yBAAK9L,UAAS,4BAAwBlF,EAAoC,GAAzB,yBApB7C8Q,EACO,kBAAC5I,GAAA,EAAD,CAAkBhD,UAAW,WAEpCuB,EAEI,yBAAKvB,UAAW,iBACZ,yBAAKA,UAAW,aAAcvG,GAC9B,kBAAC4G,EAAA,EAAD,CACIC,QAAQ,OACRqD,QAASmI,GAFb,cASLgB,IAMFvL,GAAW,yBAAKvB,UAAW,SACvByL,GAAW,GACXC,U,OEnHjB,ICtBe4B,GD0BA7N,aAJS,SAAAxE,GAAK,MAAK,CAC9BH,SAAUG,EAAMS,YAAYZ,YAGjB2E,EAnBf,SAAoBE,GAAQ,IAChB7E,EAAa6E,EAAb7E,SAER,OACI,yBAAKkF,UAAS,4BAAwBlF,EAA4C,GAAjC,iCAC7C,kBAAC,GAAD,MACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOyS,OAAK,EAACpE,KAAMzP,EAAa8T,UAAW7B,KAC3C,kBAAC,IAAD,CAAO4B,OAAK,EAACpE,KAAMzP,EAAkB8T,UAAWtB,KAChD,kBAAC,IAAD,CAAO/C,KAAK,IAAI8B,OAAQ,kBAAM,kBAAC,IAAD,CAAU7K,GAAG,kB,OEb5C,SAASqN,KACtB,OACI,kBAAC,IAAD,CAAQC,SAAU9T,UACd,yBAAKoG,UAAU,OACX,kBAAC,GAAD,Q,OCDd2N,IAAS1C,OACL,kBAAC,IAAD,CAAUtP,MAAOA,GACb,kBAAC,GAAD,OAEFiK,SAASC,eAAe,S7BuHxB,kBAAmB+H,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLrO,QAAQqO,MAAMA,EAAMC,a,mB8BzI5BC,EAAOC,QAAU,IAA0B,kC","file":"static/js/main.e85cb78c.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const actionTypes = {\r\n    setCity: 'SET_CITY',\r\n    setCityDetails: 'SET_CITY_DETAILS',\r\n    setFavoriteCities: 'SET_FAVORITE_CITIES',\r\n    removeFavoriteCity: 'REMOVE_FAVORITE_CITY',\r\n    updateFavorites: 'UPDATE_FAVORITES',\r\n    tampToggle: 'TAMP_TOGGLE',\r\n    setDarkMode: 'SET_DARK_MODE',\r\n};\r\n\r\nexport default actionTypes;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","const cors = 'https://cors-anywhere.herokuapp.com/';\r\nconst url = 'https://dataservice.accuweather.com';\r\nconst geoLocationUrl = 'https://geo.ipify.org';\r\nconst weatherUrl = `${cors}${url}`;\r\nconst imageUrl = 'https://developer.accuweather.com/sites/default/files';\r\nconst DEFAULT_LOCATION = { label: 'Tel Aviv', key: '215854', country: 'Israel' };\r\nconst ERROR_MSG = `Sorry, unable to fetch the weather, maybe it's too cloudy` ;\r\nconst SEARCH_ERROR_MSG = `Sorry, unable to fetch the cities list, maybe it's to cloudy` ;\r\nconst NO_FAV_CITIES_SAVED = 'There are no favorite cities saved yet, go to the home page, ' +\r\n    'search for a city and click the heart to add it to your favorites list';\r\n\r\nconst ROUTES = {\r\n  home: '/home',\r\n  favorites: '/favorites',\r\n};\r\n\r\nconst API_GEOLOCATION_KEY = process.env.REACT_APP_API_KEY || 'at_LzdupIGBJzpNO1XFiGDs3bHwCMtIA';\r\nconst API_KEY = process.env.REACT_APP_API_KEY || 'mSOZNqLv1T8q4bKAuEodxBG1dvSBBZee';\r\n\r\nexport {\r\n  weatherUrl,\r\n  geoLocationUrl,\r\n  imageUrl,\r\n  DEFAULT_LOCATION,\r\n  ROUTES,\r\n  ERROR_MSG,\r\n  NO_FAV_CITIES_SAVED,\r\n  SEARCH_ERROR_MSG,\r\n  API_KEY,\r\n  API_GEOLOCATION_KEY\r\n}\r\n\r\n\r\n","import { handleActions } from 'redux-actions';\r\nimport types from '../actions/actionTypes';\r\nimport { DEFAULT_LOCATION } from '../consts';\r\nimport Immutable from 'seamless-immutable';\r\n\r\nconst favoritesCity = localStorage.getItem('favorites');\r\nconst metricPreferences = localStorage.getItem('metricPreferences');\r\nconst darkModePreferences = localStorage.getItem('darkModePreferences');\r\n\r\nconst initialState = Immutable({\r\n    city: {},\r\n    cityDetails: {\r\n        currWeatherInfo: {},\r\n        forecast: [],\r\n    },\r\n    favoriteCities: JSON.parse(favoritesCity) || [],\r\n    metric: JSON.parse(metricPreferences) === null ? true : JSON.parse(metricPreferences),\r\n    darkMode: JSON.parse(darkModePreferences) === null ? true : JSON.parse(darkModePreferences),\r\n});\r\n\r\nexport default handleActions({\r\n    [types.setCity]: (state, { value }) => state.setIn(['city'], value),\r\n    [types.setCityDetails]: (state, { key, value }) => state.setIn(['cityDetails', key], value),\r\n    [types.updateFavorites]: (state, { favorites }) => state.set('favoriteCities', favorites),\r\n    [types.tampToggle]: (state, { bool }) => state.setIn(['metric'], bool),\r\n    [types.setDarkMode]: (state, { bool }) => state.setIn(['darkMode'], bool),\r\n}, initialState)\r\n","import { combineReducers } from 'redux';\r\nimport mainReducer from \"./reducers/mainReducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  mainReducer\r\n});\r\n","import { applyMiddleware, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { rootReducer } from './rootReducer';\r\n\r\nconst initialState = {};\r\nconst store = createStore(rootReducer, initialState,\r\n    composeWithDevTools(\r\n        applyMiddleware(thunk)\r\n    )\r\n);\r\n\r\nexport default store;\r\n","import types from \"./actionTypes\";\r\nimport store from '../store';\r\n\r\nconst setCity = value => ({\r\n    type: types.setCity,\r\n    value\r\n});\r\n\r\nconst setCityDetails = (key, value) => ({\r\n    type: types.setCityDetails,\r\n    key,\r\n    value\r\n});\r\n\r\nconst setTampMetric = bool => {\r\n    localStorage.setItem('metricPreferences', JSON.stringify(bool));\r\n    return ({\r\n        type: types.tampToggle,\r\n        bool\r\n    })\r\n};\r\n\r\nconst setDarkMode = bool => {\r\n    localStorage.setItem('darkModePreferences', JSON.stringify(bool));\r\n    return ({\r\n        type: types.setDarkMode,\r\n        bool\r\n    })\r\n};\r\n\r\nconst setFavoriteCities = value => {\r\n    const { favoriteCities } = store.getState().mainReducer;\r\n    const newFavList = [...favoriteCities, value];\r\n\r\n    localStorage.setItem('favorites', JSON.stringify(newFavList));\r\n    return ({\r\n        type: types.updateFavorites,\r\n        favorites: newFavList\r\n    })\r\n};\r\n\r\nconst removeFavoriteCity = value => {\r\n    const { favoriteCities } = store.getState().mainReducer;\r\n    const newFavList = favoriteCities.filter((city) => city.key !== value);\r\n\r\n    localStorage.setItem('favorites', JSON.stringify(newFavList));\r\n    return ({\r\n        type: types.updateFavorites,\r\n        favorites: newFavList\r\n    })\r\n};\r\n\r\nexport {\r\n    setCity,\r\n    setCityDetails,\r\n    setFavoriteCities,\r\n    removeFavoriteCity,\r\n    setTampMetric,\r\n    setDarkMode,\r\n}\r\n","import store from './store';\r\nimport { setCityDetails, setCity } from './actions/mainActions';\r\nimport { weatherUrl, geoLocationUrl, imageUrl, API_KEY, API_GEOLOCATION_KEY } from './consts';\r\nimport { get, lowerCase } from 'lodash';\r\n\r\nasync function fetchCityWeather(key) {\r\n  const response = await fetch(`${weatherUrl}/currentconditions/v1/${key}?apikey=${API_KEY}`);\r\n  const currentWeatherDetails = await response.json();\r\n  const { WeatherText, Temperature, WeatherIcon } = currentWeatherDetails[0] || [];\r\n  const weatherImage = WeatherIcon && `${imageUrl}/${WeatherIcon.toString().padStart(2, '0')}-s.png`;\r\n\r\n  return {\r\n    tempC: get(Temperature, ['Metric', 'Value'], ''),\r\n    tempF: get(Temperature, ['Imperial', 'Value'], ''),\r\n    description: WeatherText,\r\n    img: weatherImage,\r\n  }\r\n}\r\n\r\nasync function updateCurrentCityWeather(key) {\r\n  const currWeatherInfo = await fetchCityWeather(key);\r\n\r\n  store.dispatch(setCityDetails('currWeatherInfo', currWeatherInfo))\r\n}\r\n\r\nasync function geoLocationCity() {\r\n  const response = await fetch(`${geoLocationUrl}/api/v1?apiKey=${API_GEOLOCATION_KEY}`);\r\n  const geo = await response.json();\r\n  const { location } = geo || {};\r\n  const { city } = location || {};\r\n  const defaultCity = city === undefined ? 'Tel Aviv' : city === 'Eilat' ? 'Elat' : city;\r\n\r\n  const cityResult = await fetchAutoCompleteOptions(lowerCase(defaultCity));\r\n  const cityObj = await cityResult[0];\r\n  const { LocalizedName, Country, Key } = cityObj || {};\r\n  const country = Country.LocalizedName;\r\n  const cityConfig = { label: LocalizedName, key: Key, country: country };\r\n\r\n  store.dispatch(setCity(cityConfig))\r\n}\r\n\r\nasync function fetchAutoCompleteOptions(value) {\r\n  const response = await fetch(`${weatherUrl}/locations/v1/cities/autocomplete?apikey=${API_KEY}&q=${value}`);\r\n  const cities = await response.json();\r\n\r\n  return cities\r\n}\r\n\r\nasync function fetchForecastDetails(key, metricBool) {\r\n  const response = await fetch(`${weatherUrl}/forecasts/v1/daily/5day/${key}?apikey=${API_KEY}&metric=${metricBool}`);\r\n  const forecast = await response.json();\r\n  const { DailyForecasts } = forecast || {};\r\n\r\n  return DailyForecasts.map((day) => ({\r\n    date: day.Date,\r\n    temp: {\r\n      min: get(day.Temperature, ['Minimum', 'Value'], ''),\r\n      max: get(day.Temperature, ['Maximum', 'Value'], ''),\r\n    },\r\n    dayTemp: {\r\n      icon: get(day.Day, ['Icon'], ''),\r\n      text: get(day.Day, ['IconPhrase'], ''),\r\n    },\r\n  }))\r\n}\r\n\r\nasync function updateForecast(key, metricBool) {\r\n  const forecast = await fetchForecastDetails(key, metricBool);\r\n  store.dispatch(setCityDetails('forecast', forecast))\r\n}\r\n\r\nexport {\r\n  fetchCityWeather,\r\n  updateCurrentCityWeather,\r\n  fetchForecastDetails,\r\n  fetchAutoCompleteOptions,\r\n  updateForecast,\r\n  geoLocationCity\r\n}\r\n","import React, {useEffect} from 'react';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { ROUTES } from '../../consts';\r\nimport { Button } from \"@material-ui/core\";\r\nimport logo from '../../assets/icon/logos/icon.png';\r\nimport { geoLocationCity } from \"../../api\";\r\nimport './style.scss';\r\n\r\nfunction Header(props) {\r\n  const { location: { pathname }, darkMode } = props;\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                await geoLocationCity();\r\n            }\r\n            catch (e) {\r\n                console.log('geoLocationCity error')\r\n            }\r\n            finally {\r\n                console.log('geoLocationCity set')\r\n            }\r\n        })()\r\n    }, []);\r\n\r\n  return (\r\n      <div className={`header ${!darkMode ? 'header_light_mode' : ''}`}>\r\n          <div className={'logo_wrapper'}>\r\n              <img src={logo} alt={'logo'}/>\r\n              <span className={'logo'}>Sunny</span>\r\n          </div>\r\n          <div className={'app_nav_buttons'}>\r\n              <Link to={ROUTES.home}>\r\n                  <Button\r\n                        variant=\"text\"\r\n                        className={ pathname === ROUTES.home ? 'active' : ''}\r\n                      >\r\n                        Home\r\n                  </Button>\r\n              </Link>\r\n              <Link to={ROUTES.favorites}>\r\n                  <Button\r\n                      variant=\"text\"\r\n                      className={pathname === ROUTES.favorites ? 'active' : ''}\r\n                  >\r\n                    Favorites\r\n                  </Button>\r\n              </Link>\r\n          </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    darkMode: state.mainReducer.darkMode\r\n});\r\n\r\nexport default compose(connect(mapStateToProps), withRouter)(Header)\r\n","import Header from './Header';\r\n\r\nexport default Header;\r\n","//Global Colors variables\r\n\r\n//dark mode colors\r\nconst darkBackground = '#282c34';\r\nconst darkBlue = '#0A84FF';\r\nconst darkGreen = '#30D158';\r\nconst darkIndigo = '#5E5CE6';\r\nconst darkOrange = '#FF9F0A';\r\nconst darkPink = '#FF375F';\r\nconst darkPurple = '#BF5AF2';\r\nconst darkRed = '#FF453A';\r\nconst darkTeal = '#64D2FF';\r\nconst darkYellow = '#FFD60A';\r\n\r\n//light mode colors\r\nconst lightBackground = '#F2F2F7';\r\nconst lightBlue = '#007AFF';\r\nconst lightGreen = '#34C759';\r\nconst lightIndigo = '#5856D6';\r\nconst lightOrange = '#FF9500';\r\nconst lightPink = '#FF2D55';\r\nconst lightPurple = '#AF52DE';\r\nconst lightRed = '#FF3B30';\r\nconst lightTeal = '#5AC8FA';\r\nconst lightYellow = '#FFCC00';\r\n\r\nexport default {\r\n    darkBackground,\r\n    darkBlue,\r\n    darkGreen,\r\n    darkIndigo,\r\n    darkOrange,\r\n    darkPink,\r\n    darkPurple,\r\n    darkRed,\r\n    darkTeal,\r\n    darkYellow,\r\n    lightBackground,\r\n    lightBlue,\r\n    lightGreen,\r\n    lightIndigo,\r\n    lightOrange,\r\n    lightPink,\r\n    lightPurple,\r\n    lightRed,\r\n    lightTeal,\r\n    lightYellow,\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { TextField, CircularProgress } from '@material-ui/core';\r\nimport { Autocomplete } from '@material-ui/lab';\r\nimport { SEARCH_ERROR_MSG } from '../../consts';\r\nimport { setCity, setCityDetails } from '../../actions/mainActions';\r\nimport { fetchAutoCompleteOptions } from '../../api';\r\nimport colors from '../../styles/colorsVar';\r\nimport './style.scss';\r\n\r\nconst styles = () => ({\r\n    textField: {\r\n        '& fieldset, &:hover fieldset': {\r\n            borderColor: `${colors.darkYellow} !important`,\r\n        },\r\n    },\r\n    invisible: {\r\n        display: 'none',\r\n    },\r\n    paper: {\r\n        backgroundColor: `${colors.lightGreen} !important`,\r\n        '& div:hover': {\r\n            backgroundColor: `${colors.darkYellow} !important`,\r\n        }\r\n    }\r\n});\r\n\r\nconst reg = /^[a-zA-Z]+(-[a-zA-Z]+)*$/;\r\n\r\nfunction AutoComplete(props) {\r\n    const { classes, darkMode } = props;\r\n    const [open, setOpen] = useState(false);\r\n    const [options, setOptions] = useState([]);\r\n    const [isError, setIsError] = useState(false);\r\n    const [citySearch, setCitySearch] = useState('');\r\n    const loading = open && options.length === 0;\r\n\r\n    async function handleSearchWordChanged(e, value) {\r\n\r\n        setCitySearch(value);\r\n\r\n        if (value.length < 1) {\r\n            return setOpen(false)\r\n        }\r\n        if (value.length < 2 && open) {\r\n            return setOpen(false)\r\n        }\r\n        if (!open) {\r\n            setOpen(true)\r\n        }\r\n        try {\r\n            const cities = await fetchAutoCompleteOptions(value);\r\n            setIsError(false);\r\n            setOptions(cities.map((city) => (\r\n                { label: city.LocalizedName, key: city.Key, country: city.Country.LocalizedName })\r\n            ));\r\n        }\r\n        catch (error) {\r\n            setIsError(true)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            setOptions([])\r\n        }\r\n    }, [open]);\r\n\r\n    return (\r\n        <Autocomplete\r\n            className={`auto_complete ${!darkMode ? 'light_mode' : ''}`}\r\n            open={open}\r\n            onClose={() => setOpen(false)}\r\n            onChange={(e, value) => {\r\n                if (!value) return;\r\n                props.setCity(value || {})\r\n            }}\r\n            value={citySearch}\r\n            onInputChange={handleSearchWordChanged}\r\n            getOptionLabel={(option) => option && option.label && `${option.label}, ${option.country}`}\r\n            options={options}\r\n            loading={loading}\r\n            classes={{ popupIndicator: classes.invisible, paper: classes.paper }}\r\n            renderInput={(params) => (\r\n                <TextField\r\n                    {...params}\r\n                    placeholder=\"Search city\"\r\n                    fullWidth\r\n                    value={citySearch}\r\n                    onChange={(e) => {\r\n                        if (!reg.test(e.target.value)) {\r\n                            return\r\n                        }\r\n                        setCitySearch(citySearch)\r\n                    }}\r\n                    variant=\"outlined\"\r\n                    helperText={isError ? SEARCH_ERROR_MSG : ' '}\r\n                    InputProps={{\r\n                        ...params.InputProps,\r\n                        classes: { root: classes.textField },\r\n                        endAdornment: (\r\n                            <>\r\n                            {loading ? <CircularProgress color=\"primary\" size={20} /> : null}\r\n                            {params.InputProps.endAdornment}\r\n                            </>\r\n                        ),\r\n                    }}\r\n                />\r\n            )}\r\n        />\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    darkMode: state.mainReducer.darkMode\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { setCity, setCityDetails }),\r\n  withStyles(styles)\r\n)(AutoComplete)\r\n","import AutoComplete from './AutoComplete';\r\n\r\nexport default AutoComplete;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { ButtonGroup, Button } from '@material-ui/core';\r\nimport { setTampMetric, setDarkMode } from '../../actions/mainActions';\r\nimport './style.scss';\r\n\r\nfunction CurrentWeather(props) {\r\n    const { city: { label: cityName, country }, cityDetails, metric, darkMode } = props;\r\n    const { currWeatherInfo } = cityDetails || {};\r\n    const { tempC, tempF, description, img } = currWeatherInfo || {};\r\n    const degree = metric ? tempC : tempF;\r\n\r\n    return (\r\n        <div className={`current_weather_wrapper ${!darkMode ? 'current_weather_light_mode' : ''}`}>\r\n            <div className={'cityName'}>{`${cityName}, ${country}`}</div>\r\n            <div className={'description'}>{description}</div>\r\n            <div className={'temp_icon_wrapper'}>\r\n                {img && <img\r\n                    src={img}\r\n                    alt=\"weather icon\"\r\n                    className={'img'}\r\n                />}\r\n                <div className={'degree'}>\r\n                    {Math.round(degree)}\r\n                    &#176;\r\n                    <span className={'degree_symbol'}>{metric ? 'C' : 'F'}</span>\r\n                </div>\r\n            </div>\r\n            <div className={'set_tamp_type'}>\r\n                <ButtonGroup disableElevation variant=\"contained\">\r\n                    <Button\r\n                        className={`${metric ? 'active' : ''}`}\r\n                        onClick={() => props.setTampMetric(true)}\r\n                    >\r\n                        Celsius\r\n                    </Button>\r\n                    <Button\r\n                        className={`${!metric ? 'active' : ''}`}\r\n                        onClick={() => props.setTampMetric(false)}\r\n                    >\r\n                        Fahrenheit\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </div>\r\n            <div className={'set_dark_mode'}>\r\n                <ButtonGroup disableElevation variant=\"contained\">\r\n                    <Button\r\n                        className={`${darkMode ? 'active' : ''}`}\r\n                        onClick={() => props.setDarkMode(true)}\r\n                    >\r\n                        Dark\r\n                    </Button>\r\n                    <Button\r\n                        className={`${!darkMode ? 'active' : ''}`}\r\n                        onClick={() => props.setDarkMode(false)}\r\n                    >\r\n                        Light\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    city: state.mainReducer.city,\r\n    cityDetails: state.mainReducer.cityDetails,\r\n    metric: state.mainReducer.metric,\r\n    darkMode: state.mainReducer.darkMode\r\n});\r\n\r\nexport default connect(mapStateToProps, { setTampMetric, setDarkMode })(CurrentWeather)\r\n","import CurrentWeather from './CurrentWeather';\r\n\r\nexport default CurrentWeather;\r\n","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { Fade } from \"react-reveal\";\r\nimport { imageUrl } from '../../consts';\r\nimport './style.scss';\r\n\r\nfunction WeatherDetails(props) {\r\n    const { dayDetails, currDay, index, metric, darkMode } = props;\r\n    const { temp, dayTemp, date } = dayDetails;\r\n    const { min: minTemp, max: maxTemp } = temp;\r\n\r\n    return (\r\n        <Fade cascade delay={150 * index}>\r\n            <div className={`card_wrapper ${!darkMode ? 'card_light_mode' : ''}`}>\r\n                <div className={`day_name ${currDay ? 'today' : ''}`}>\r\n                    {new Date(date).toString().split(' ')[0]}\r\n                </div>\r\n                <div className={'weather_img'}>\r\n                    <img\r\n                        src={`${imageUrl}/${dayTemp.icon.toString().padStart(2, '0')}-s.png`}\r\n                        alt=\"daily weather icon\"\r\n                        className={'icon'}\r\n                    />\r\n                </div>\r\n                <div className={'day_tamp'}>\r\n                    <span className={'low_tamp_symbol'}>L:</span>\r\n                    {Math.round(minTemp)}\r\n                    &#176;\r\n                    <span className={'tamp_symbol'}>{metric ? 'C' : 'F'}</span>\r\n                    <span className={'high_tamp_symbol'}>H:</span>\r\n                    {Math.round(maxTemp)}\r\n                    &#176;\r\n                    <span className={'tamp_symbol'}>{metric ? 'C' : 'F'}</span>\r\n                </div>\r\n            </div>\r\n        </Fade>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    metric: state.mainReducer.metric,\r\n    darkMode: state.mainReducer.darkMode\r\n});\r\n\r\nexport default connect(mapStateToProps)(WeatherDetails)\r\n","import WeatherDetails from './WeatherDetails';\r\n\r\nexport default WeatherDetails;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport WeatherDetails from '../WeatherDetails';\r\nimport './style.scss';\r\n\r\nfunction Forecast(props) {\r\n  const { cityDetails, darkMode } = props;\r\n\r\n  return (\r\n      <div className={`forecast_wrapper ${!darkMode ? 'forecast_light_mode' : ''}`}>\r\n          <div className={'cards'}>\r\n              {cityDetails.forecast.map((item, i) => (\r\n                  <WeatherDetails dayDetails={item} key={uuidv4()} currDay={!i} index={i}/>\r\n              ))}\r\n          </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    cityDetails: state.mainReducer.cityDetails,\r\n    darkMode: state.mainReducer.darkMode,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Forecast)\r\n","import Forecast from './Forecast';\r\n\r\nexport default Forecast;\r\n","import React from 'react';\r\nimport './style.scss';\r\n\r\nexport default function Rain(level) {\r\n\r\n    function iStyle() {\r\n        const topNum = Math.floor(Math.random() * 2) === 1 ? 1 : -1;\r\n        const randomTopNum = Math.floor(topNum * (Math.random() * 1000));\r\n        const topPx = `${randomTopNum}px`;\r\n        const randomLeftNum = Math.floor(Math.random() * 2000);\r\n        const leftPx = `${randomLeftNum}px`;\r\n\r\n        return { left: leftPx, top: topPx }\r\n    }\r\n\r\n    return(\r\n        <div className='visualisation-container'>\r\n            <div className={`rain_effect ${level === 3 ? 'blnk' : ''}`}>\r\n                {[...Array(50 * level)].map((el, index) => <i key={index} style={iStyle()}/>)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport './style.scss';\r\n\r\nexport default function Lightning() {\r\n\r\n    function lightningStart() {\r\n        // Best viewed in Chrome\r\n// Click anywhere to make your own lightning!\r\n\r\n//=============================\r\n// Consts\r\n//=============================\r\n        const HAS_FLASH = true;\r\n        const TIME_BETWEEN_LIGHTNING = 1000;\r\n\r\n        const MAX_POINTS = 120;\r\n        const MAX_X_DISTANCE = 9; // 10 - 30\r\n        const MAX_Y_DISTANCE = 8; // 10 - 30\r\n        const MAX_WIDTH = 3; // 1 - 10\r\n\r\n        const FADE_INCREMENT = 0.013; // 0 - 0.02\r\n\r\n        const LIGHTNING_CHANCE = 0.03;\r\n        const BRANCH_CHANCE = 0.01;\r\n        const FLICKER_CHANCE = 0.023;\r\n        const BRANCH_BRANCH_CHANCE = 0.90;\r\n\r\n//=============================\r\n// Helpers\r\n//=============================\r\n        const getTimestamp = () => {\r\n            return (new Date()).getTime();\r\n        };\r\n\r\n        const random = (max = 1, unsigned = false) => {\r\n            return unsigned ? ((Math.random() - 0.5) * 2) * max : Math.random() * max;\r\n        };\r\n\r\n//=============================\r\n// Main\r\n//=============================\r\n        const lightningCanvas = document.getElementById('lightning');\r\n        const ctx = lightningCanvas && lightningCanvas.getContext('2d');\r\n        const cloudLightningCanvas = document.getElementById('cloudlightning');\r\n        const clCtx = cloudLightningCanvas && cloudLightningCanvas.getContext('2d');\r\n        const lightningSheetCanvas = document.getElementById('lightningSheet');\r\n        const lsCtx = lightningSheetCanvas && lightningSheetCanvas.getContext('2d');\r\n\r\n        let HAS_CLOUD_EFFECTS = true;\r\n\r\n        let lightning = [];\r\n        let cloudLightning = [];\r\n        let flashes = [];\r\n        let lightningSheets = [];\r\n\r\n        let stageWidth = 0;\r\n        let stageHeight = 0;\r\n        let previousTimestamp = getTimestamp();\r\n\r\n        const loop = () => {\r\n            ctx && ctx.clearRect(0, 0, stageWidth, stageHeight);\r\n            clCtx && clCtx.clearRect(0, 0, stageWidth, stageHeight);\r\n            lsCtx && lsCtx.clearRect(0, 0, stageWidth, stageHeight);\r\n\r\n            lightning.forEach((path) => {\r\n                path.animate();\r\n                path.render();\r\n            });\r\n\r\n            if (HAS_CLOUD_EFFECTS) {\r\n                cloudLightning.forEach((cloud) => {\r\n                    cloud.animate();\r\n                    cloud.render();\r\n                });\r\n\r\n                lightningSheets.forEach((lightningSheet) => {\r\n                    lightningSheet.animate();\r\n                    lightningSheet.render();\r\n                });\r\n            } else {\r\n                cloudLightning.forEach(cloud => cloud.alpha = 0)\r\n                lightningSheets.forEach(cloud => cloud.alpha = 0)\r\n            }\r\n\r\n            if (HAS_FLASH) {\r\n                flashes.forEach((path) => {\r\n                    path.animate();\r\n                    path.render();\r\n                });\r\n            }\r\n\r\n            // create lightning or lightning sheet\r\n            if (\r\n                random() < LIGHTNING_CHANCE &&\r\n                getTimestamp() - previousTimestamp > TIME_BETWEEN_LIGHTNING\r\n            ) {\r\n\r\n                if (random() > 0.4) {\r\n                    lightning.push(new Lightning());\r\n                } else {\r\n                    lightningSheets.push(new LightningSheet());\r\n                }\r\n\r\n                previousTimestamp = getTimestamp();\r\n            }\r\n\r\n            lightning = lightning.filter(path => path.alpha > 0);\r\n            cloudLightning = cloudLightning.filter(cloud => cloud.alpha > 0);\r\n            flashes = flashes.filter(sheet => sheet.alpha > 0);\r\n            lightningSheets = lightningSheets.filter(sheet => sheet.alpha > 0);\r\n\r\n            requestAnimationFrame(loop);\r\n        };\r\n\r\n        class Lightning {\r\n\r\n            constructor(ox, oy, width, isBranch = false, branchDirection) {\r\n                const x = ox || (random(stageWidth));\r\n                const y = oy || (40 + random(100));\r\n                let newCloud;\r\n\r\n                this.paths = [];\r\n                this.red = 255;\r\n                this.green = 255;\r\n                this.blue = 255;\r\n                this.alpha = 1;\r\n                this.hasEnded = false;\r\n                this.width = width || random(MAX_WIDTH) + 1;\r\n                this.isBranch = isBranch;\r\n                this.xDeviation = isBranch ? 1.3 : 1;\r\n                this.branchDirection = branchDirection || (Math.random() - 0.5) * 2;\r\n                this.flickerCount = 0;\r\n                this.clouds = [];\r\n\r\n                this.paths.push({\r\n                    x,\r\n                    y\r\n                });\r\n\r\n                if (HAS_FLASH) {\r\n                    flashes.push(new Flash(this.width));\r\n                }\r\n\r\n                if (!this.isBranch) {\r\n                    newCloud = new CloudLightning(x, y, this.width);\r\n                    cloudLightning.push(newCloud);\r\n                    this.clouds.push(newCloud);\r\n                }\r\n\r\n                if (this.isBranch) {\r\n                    this.width = 1;\r\n                }\r\n            }\r\n\r\n            animate() {\r\n                const newLines = 3 + random(5);\r\n                const branchChance = this.isBranch ? BRANCH_BRANCH_CHANCE : BRANCH_CHANCE;\r\n\r\n                if (!this.hasEnded) {\r\n                    const previousPoint = this.getLastPoint();\r\n                    let lastX = previousPoint.x;\r\n                    let lastY = previousPoint.y;\r\n                    let newX, newY;\r\n                    let xDirection;\r\n\r\n                    // add new extensions\r\n                    for (let i = 0; i < newLines; i++) {\r\n                        xDirection = (this.isBranch ? this.branchDirection : (Math.random() - 0.5) * 2);\r\n                        newX = lastX + xDirection * MAX_X_DISTANCE * this.xDeviation;\r\n                        newY = lastY + random(MAX_Y_DISTANCE) + 2;\r\n\r\n                        lastX = newX;\r\n                        lastY = newY;\r\n                        this.paths.push({\r\n                            x: newX,\r\n                            y: newY\r\n                        });\r\n\r\n                        if (this.isBranch && random() < 0.03) {\r\n                            lightning.push(new Lightning(lastX, lastY, this.width, true));\r\n                        }\r\n                    }\r\n\r\n                    // when to stop extending\r\n                    this.hasEnded =\r\n                        lastY / stageHeight > 0.8 ||\r\n                        (random() > 0.6 && this.paths.length > MAX_POINTS * 3/4) ||\r\n                        this.paths.length > MAX_POINTS ||\r\n                        (this.isBranch && this.paths.length > 5)\r\n                    ;\r\n\r\n                    // create branches\r\n                    if (\r\n                        random() > branchChance &&\r\n                        this.paths.length > 5 &&\r\n                        this.paths.length < MAX_POINTS * 2/3\r\n                    ) {\r\n                        lightning.push(new Lightning(lastX, lastY, this.width, true));\r\n                    }\r\n                }\r\n\r\n                // fade out\r\n                if (this.alpha > 0) {\r\n                    this.alpha -= FADE_INCREMENT;\r\n\r\n                    // fade out purple\r\n                    if (this.alpha < 0.5) {\r\n                        this.green -= 4.5;\r\n                    }\r\n\r\n                    if (this.isBranch) {\r\n                        this.alpha -= FADE_INCREMENT / 2;\r\n                    }\r\n                }\r\n\r\n                // cool flicker\r\n                if (\r\n                    !this.isBranch &&\r\n                    random() < FLICKER_CHANCE &&\r\n                    this.flickerCount < 2 &&\r\n                    this.alpha > 0.3\r\n                ) {\r\n                    this.alpha = 1;\r\n                    this.green = 240;\r\n                    this.flickerCount++;\r\n\r\n                    this.clouds.map((cloud) => {\r\n                        cloud.alpha = random(0.6) + 0.3;\r\n                        return cloud.alpha;\r\n                    });\r\n                }\r\n\r\n                if (\r\n                    (this.isBranch && (this.flickerCount > 0)) ||\r\n                    this.alpha < 0\r\n                ) {\r\n                    this.alpha = 0;\r\n                }\r\n            }\r\n\r\n            render() {\r\n                const colour = this.getColour();\r\n\r\n                ctx && ctx.beginPath();\r\n                ctx && (ctx.strokeStyle = colour);\r\n                ctx && (ctx.lineWidth = this.width);\r\n\r\n                if (this.flickerCount === 0) {\r\n                    ctx && (ctx.shadowBlur = this.width * 3);\r\n                    ctx && (ctx.shadowColor = colour);\r\n                }\r\n\r\n                this.paths.forEach((path) => {\r\n                    ctx && ctx.lineTo(path.x, path.y);\r\n                });\r\n\r\n                ctx && ctx.stroke();\r\n            }\r\n\r\n            getColour(red, green, blue, alpha) {\r\n                return `rgba(${red || this.red}, ${green || this.green}, ${blue || this.blue}, ${alpha || this.alpha})`;\r\n            }\r\n\r\n            getLastPoint() {\r\n                if (this.paths.length > 0) {\r\n                    const lastPoint = this.paths[this.paths.length - 1];\r\n\r\n                    return {\r\n                        x: lastPoint.x,\r\n                        y: lastPoint.y\r\n                    };\r\n                } else {\r\n                    return {x: 0, y: 0};\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        class Flash {\r\n\r\n            constructor(flash = 1) {\r\n                this.alpha = 0.09 * flash;\r\n            }\r\n\r\n            animate() {\r\n                this.alpha -= FADE_INCREMENT * 2;\r\n            }\r\n\r\n            render() {\r\n                ctx && ctx.beginPath();\r\n                ctx && (ctx.fillStyle = `rgba(50, 48, 51, ${this.alpha})`);\r\n                ctx && ctx.fillRect(0, 0, stageWidth, stageHeight);\r\n            }\r\n\r\n        }\r\n\r\n        class LightningSheet {\r\n\r\n            constructor(x, y, isRoot = true) {\r\n                this.alpha = random(0.6) + 0.2;\r\n                this.x = x || random(stageWidth);\r\n                this.y = y || random(stageHeight * 0.6) - 100;\r\n                this.size = random(50) + 40;\r\n\r\n                // size proportionately to the horizon to create perspective\r\n                this.size = (1 - (this.y / stageHeight * 0.6)) * this.size;\r\n\r\n                if (isRoot) {\r\n                    let sheetX, sheetY;\r\n\r\n                    for (let i = 0; i < random(12) + 4; i++) {\r\n                        sheetX = this.x + random(300, true);\r\n                        sheetY = this.y + random(80, true);\r\n                        lightningSheets.push(new LightningSheet(sheetX, sheetY, false));\r\n                    }\r\n                }\r\n            }\r\n\r\n            animate() {\r\n                this.alpha -= FADE_INCREMENT * 0.8;\r\n\r\n                if (\r\n                    this.alpha < 0.3 &&\r\n                    random() < 0.025\r\n                ) {\r\n                    this.alpha += random(0.4);\r\n                }\r\n            }\r\n\r\n            render() {\r\n                lsCtx && lsCtx.save();\r\n\r\n                lsCtx && lsCtx.scale(2, 1);\r\n\r\n                lsCtx && lsCtx.beginPath();\r\n                lsCtx && lsCtx.arc(this.x / 2, this.y, this.size, 2 * Math.PI, false);\r\n                lsCtx && lsCtx.closePath();\r\n                lsCtx && lsCtx.restore();\r\n\r\n                lsCtx && (lsCtx.filter = `blur(${this.size}px)`);\r\n                lsCtx && (lsCtx.fillStyle = `rgba(100, 100, 100, ${this.alpha})`);\r\n                lsCtx && lsCtx.fill();\r\n                lsCtx && (lsCtx.shadowColor = '#999999');\r\n                lsCtx && (lsCtx.shadowBlur = this.size);\r\n            }\r\n        }\r\n\r\n        class CloudLightning {\r\n\r\n            constructor(x, y, size) {\r\n                this.x = x;\r\n                this.y = y;\r\n                this.size = size * 3 * random(2) + 10;\r\n                this.alpha = 1;\r\n            }\r\n\r\n            animate() {\r\n                this.alpha -= FADE_INCREMENT;\r\n            }\r\n\r\n            render() {\r\n                clCtx && clCtx.save();\r\n\r\n                clCtx && clCtx.scale(2.5, 1);\r\n\r\n                clCtx && clCtx.beginPath();\r\n                clCtx && clCtx.arc(this.x / 2.5, this.y, this.size, 2 * Math.PI, false);\r\n                clCtx && clCtx.restore();\r\n\r\n                clCtx && (clCtx.filter = `blur(${this.size}px)`);\r\n                clCtx && (clCtx.fillStyle = `rgba(255, 255, 255, ${this.alpha})`);\r\n                clCtx && clCtx.fill();\r\n                clCtx && (clCtx.shadowColor = '#eeeeff');\r\n                clCtx && (clCtx.shadowBlur = (this.size * 8) + 50);\r\n            }\r\n\r\n        }\r\n\r\n//=============================\r\n// Setup\r\n//=============================\r\n\r\n        const updateCanvasSize = () => {\r\n            stageWidth = window.innerWidth;\r\n            stageHeight = window.innerHeight;\r\n\r\n            lightningCanvas && (lightningCanvas.width = stageWidth);\r\n            lightningCanvas && (lightningCanvas.height = stageHeight);\r\n\r\n            cloudLightningCanvas && (cloudLightningCanvas.width = stageWidth);\r\n            cloudLightningCanvas && (cloudLightningCanvas.height = stageHeight);\r\n\r\n            lightningSheetCanvas && (lightningSheetCanvas.width = stageWidth);\r\n            lightningSheetCanvas && (lightningSheetCanvas.height = stageHeight * 0.8);\r\n        };\r\n\r\n        $(window).on('mousedown', (e) => {\r\n            lightning.push(new Lightning(e.clientX, e.clientY));\r\n        });\r\n\r\n        updateCanvasSize();\r\n        $(window).resize(updateCanvasSize);\r\n\r\n//=============================\r\n// Run it!\r\n//=============================\r\n\r\n        lightning.push(new Lightning(400, 100));\r\n        loop();\r\n    }\r\n\r\n    lightningStart();\r\n\r\n    return (\r\n        <Fragment>\r\n            <canvas id=\"lightning\"/>\r\n        </Fragment>\r\n    )\r\n}\r\n","import React, { Fragment } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport RainEffect from \"../RainEffect\";\r\nimport LightningEffect from \"../Lightning\";\r\nimport './style.scss';\r\n\r\n\r\nfunction WeatherIcon(props) {\r\n    const { weatherDescription, darkMode } = props;\r\n    const lightMode = !darkMode ? 'weather_icon_light_mode' : '';\r\n\r\n    switch (weatherDescription) {\r\n        case 'Hazy Sunshine':\r\n        case 'Intermittent Clouds':\r\n        case 'Cloudy':\r\n        case 'Mostly cloudy':\r\n        case 'Dreary (Overcast)':\r\n        case 'Flurries':\r\n        case 'Mostly Cloudy w/ Flurries':\r\n        case 'Partly Sunny w/ Flurries' :\r\n        case 'Windy':\r\n        case 'Fog': {\r\n\r\n            return <div className={`weather_icon cloudy ${lightMode}`}>\r\n                <div className=\"cloud\"/>\r\n                <div className=\"cloud\"/>\r\n            </div>\r\n        }\r\n        case 'Showers':\r\n        case 'Rain':\r\n        case 'Sleet':\r\n        case 'Freezing Rain':\r\n        case 'Partly Cloudy w/ Showers': {\r\n            return <Fragment>\r\n                {RainEffect(2)}\r\n                <div className={`weather_icon rainy ${lightMode}`}>\r\n                    <div className=\"cloud\"/>\r\n                    <div className=\"rain\"/>\r\n                </div>\r\n            </Fragment>\r\n        }\r\n        case 'Mostly Cloudy w/ Showers':\r\n        case 'Partly Sunny w/ Showers': {\r\n            return <Fragment>\r\n                {RainEffect(1)}\r\n                <div className={`weather_icon sun-shower ${lightMode}`}>\r\n                    <div className=\"cloud\"/>\r\n                    <div className=\"sun\">\r\n                        <div className=\"rays\"/>\r\n                    </div>\r\n                    <div className=\"rain\"/>\r\n                </div>\r\n            </Fragment>\r\n        }\r\n        case 'T-Storms':\r\n        case 'Thunderstorm':\r\n        case 'Mostly Cloudy w/ T-Storms':\r\n        case 'Partly Sunny w/ T-Storms': {\r\n            return <Fragment>\r\n                {RainEffect(3)}\r\n                {LightningEffect()}\r\n                <div className={`weather_icon thunder-storm ${lightMode}`}>\r\n                    <div className=\"cloud\"/>\r\n                    <div className=\"lightning\">\r\n                        <div className=\"bolt\"/>\r\n                        <div className=\"bolt\"/>\r\n                    </div>\r\n                </div>\r\n            </Fragment>\r\n        }\r\n        case 'Ice':\r\n        case 'Snow':\r\n        case 'Rain and Snow':\r\n        case 'Mostly Cloudy w/ Snow': {\r\n            return <div className={`weather_icon flurries ${lightMode}`}>\r\n                <div className=\"cloud\"/>\r\n                <div className=\"snow\">\r\n                    <div className=\"flake\"/>\r\n                    <div className=\"flake\"/>\r\n                </div>\r\n            </div>\r\n        }\r\n        default: {\r\n            return <div className={`weather_icon sunny ${lightMode}`}>\r\n                <div className=\"sun\">\r\n                    <div className=\"rays\"/>\r\n                </div>\r\n            </div>\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    darkMode: state.mainReducer.darkMode,\r\n});\r\n\r\nexport default connect(mapStateToProps)(WeatherIcon)\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { CircularProgress, Button } from '@material-ui/core';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport Favorite from '@material-ui/icons/Favorite';\r\nimport { setCityDetails, setFavoriteCities, removeFavoriteCity } from '../../actions/mainActions';\r\nimport { updateCurrentCityWeather, updateForecast, fetchAutoCompleteOptions, geoLocationCity } from '../../api';\r\nimport { ERROR_MSG } from '../../consts';\r\nimport AutoComplete from '../AutoComplete';\r\nimport CurrentWeather from '../CurrentWeather';\r\nimport Forecast from '../Forecast';\r\nimport WeatherIcon from '../UI/WeatherIcons';\r\nimport RainEffect from '../UI/RainEffect';\r\nimport LightningEffect from '../UI/Lightning';\r\nimport './style.scss';\r\n\r\nfunction HomePage(props) {\r\n    const { city: { key = '', label }, favoriteCities, metric, darkMode } = props;\r\n    const [isLoader, setIsLoader] = useState(false);\r\n    const [isError, setIsError] = useState(false);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                setIsLoader(true);\r\n                await updateForecast(key, metric);\r\n                setIsError(false)\r\n            }\r\n            catch (e) {\r\n                setIsError(true)\r\n            }\r\n            finally {\r\n                setIsLoader(false)\r\n            }\r\n        })()\r\n    }, [metric, key]);\r\n\r\n    function getCityWeather() {\r\n        if (!key) return;\r\n        (async () => {\r\n            try {\r\n                setIsLoader(true);\r\n                await fetchAutoCompleteOptions(label);\r\n                await updateCurrentCityWeather(key);\r\n                await updateForecast(key, metric);\r\n                setIsError(false)\r\n            }\r\n            catch (e) {\r\n                setIsError(true)\r\n            }\r\n            finally {\r\n                setIsLoader(false)\r\n            }\r\n        })()\r\n    }\r\n\r\n    useEffect(getCityWeather, [key]);\r\n\r\n    function renderWeatherBody() {\r\n        if (isLoader) {\r\n            return <div className={'loader'}>\r\n                <CircularProgress/>\r\n            </div>\r\n        }\r\n        if (isError) {\r\n            return (\r\n                <div className={'error_wrapper'}>\r\n                    <div className={'error_msg'}>{ERROR_MSG}</div>\r\n                    <Button\r\n                        variant=\"text\"\r\n                        onClick={getCityWeather}\r\n                    >\r\n                        Try again\r\n                    </Button>\r\n                </div>\r\n            )\r\n        }\r\n        return [\r\n            <CurrentWeather key='currentWeather'/>,\r\n            <Forecast key='forecast'/>,\r\n        ]\r\n    }\r\n\r\n    function renderFavoriteIcon() {\r\n        const isCityInFav = !!favoriteCities.find(city => city.key === props.city.key);\r\n\r\n        return isError ? null\r\n            : isCityInFav\r\n                ? <Favorite\r\n                    className={`favorite_icon favorite`}\r\n                    onClick={() => {\r\n                        if (!isCityInFav) {\r\n                            props.setFavoriteCities(props.city)\r\n                        }\r\n                        else {\r\n                            props.removeFavoriteCity(key)\r\n                        }\r\n                    }}\r\n                />\r\n                : <FavoriteBorderIcon\r\n                    className={`favorite_icon`}\r\n                    onClick={() => {\r\n                        if (!isCityInFav) {\r\n                            props.setFavoriteCities(props.city)\r\n                        }\r\n                        else {\r\n                            props.removeFavoriteCity(key)\r\n                        }\r\n                    }}\r\n                />\r\n    }\r\n\r\n    const weatherDescription = props.cityDetails.currWeatherInfo.description;\r\n\r\n    return (\r\n        <div className={`home_page ${!darkMode ? 'home_page_light_mode' : ''}`}>\r\n            <AutoComplete/>\r\n            {renderFavoriteIcon()}\r\n            <div className={`city_weather_wrapper`}>\r\n                {renderWeatherBody()}\r\n                {!isError && !isLoader && <WeatherIcon weatherDescription={weatherDescription}/>}\r\n            </div>\r\n            {isError && <div className={'storm'}>\r\n                {RainEffect(3)}\r\n                {LightningEffect()}\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    city: state.mainReducer.city,\r\n    cityDetails: state.mainReducer.cityDetails,\r\n    favoriteCities: state.mainReducer.favoriteCities,\r\n    metric: state.mainReducer.metric,\r\n    darkMode: state.mainReducer.darkMode,\r\n});\r\n\r\nexport default connect(mapStateToProps, { setCityDetails, setFavoriteCities, removeFavoriteCity })(HomePage)\r\n","import HomePage from './HomePage';\r\n\r\nexport default HomePage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport DeleteIcon from '@material-ui/icons/DeleteOutline';\r\nimport { CircularProgress, Button } from '@material-ui/core';\r\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\r\nimport { setCity, removeFavoriteCity } from '../../actions/mainActions';\r\nimport { fetchCityWeather } from '../../api';\r\nimport { ROUTES, ERROR_MSG, NO_FAV_CITIES_SAVED } from '../../consts';\r\nimport { Fade } from \"react-reveal\";\r\nimport RainEffect from '../UI/RainEffect';\r\nimport LightningEffect from '../UI/Lightning';\r\nimport Pulse from 'react-reveal/Pulse';\r\nimport './style.scss';\r\n\r\nfunction Favorites(props) {\r\n    const { favoriteCities = [], metric, darkMode } = props;\r\n    const [isLoader, setIsLoader] = useState(true);\r\n    const [isError, setIsError] = useState(false);\r\n    const [favCitiesInfo, setFavCitiesInfo] = useState({});\r\n\r\n    function handleCityClick(city) {\r\n        props.setCity(city);\r\n        props.history.push(ROUTES.home)\r\n    }\r\n\r\n    function getCityWeather() {\r\n        (async () => {\r\n            try {\r\n                setIsLoader(true);\r\n                const cities = await Promise.all(favoriteCities.map((city) => fetchCityWeather(city.key, metric)));\r\n                const citiesInfo = cities.reduce((acc, info, i) => ({\r\n                    ...acc,\r\n                    [favoriteCities[i].key]: info,\r\n                }), {});\r\n\r\n                if (favoriteCities.length && !Object.keys(citiesInfo).length) {\r\n                    throw new Error()\r\n                }\r\n                setFavCitiesInfo(citiesInfo);\r\n                setIsError(false)\r\n            }\r\n            catch (e) {\r\n                setIsError(true)\r\n            }\r\n            finally {\r\n                setIsLoader(false)\r\n            }\r\n        })()\r\n    }\r\n\r\n    useEffect(getCityWeather, []);\r\n\r\n    function renderNoFavorites() {\r\n        return (\r\n            <div className={'no_favorites_container'}>\r\n                <span>{NO_FAV_CITIES_SAVED}</span>\r\n                <Pulse forever duration={750}>\r\n                    <FavoriteBorderIcon className={`favorite_icon`}/>\r\n                </Pulse>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    function renderCities() {\r\n        if (!favoriteCities.length) {\r\n            return renderNoFavorites()\r\n        }\r\n\r\n        return favoriteCities.map((city, index) => {\r\n            const tamp = metric ? favCitiesInfo[city.key].tempC : favCitiesInfo[city.key].tempF;\r\n\r\n            return <Fade cascade delay={200 * index} key={city.key}>\r\n                <div key={city.key} className={`fav_city_container`}>\r\n                    <div\r\n                        className={'city_details'}\r\n                        role=\"button\"\r\n                        tabIndex={0}\r\n                        onClick={() => handleCityClick(city)}\r\n                    >\r\n                        <div className={'city_name'}>\r\n                            {city.label}\r\n                        </div>\r\n                        <div className={'temp'}>\r\n                            {Math.round(tamp)}\r\n                            &#176;\r\n                            <span className={'tamp_symbol'}>{metric ? 'C' : 'F'}</span>\r\n                        </div>\r\n                        <div className={'description'}>\r\n                            {favCitiesInfo[city.key].description}\r\n                        </div>\r\n                    </div>\r\n                    {favCitiesInfo[city.key].img && (\r\n                        <div className={'fav_weather_img'}>\r\n                            <img\r\n                                src={favCitiesInfo[city.key].img}\r\n                                alt=\"weather icon\"\r\n                                className={'img'}\r\n                            />\r\n                        </div>\r\n                    )}\r\n                    <div className={'remove_icon_wrapper'}>\r\n                        <DeleteIcon\r\n                            className={'remove_icon'}\r\n                            onClick={() => {\r\n                                props.removeFavoriteCity(city.key)\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </Fade>\r\n        })\r\n    }\r\n\r\n    function renderFavBody() {\r\n        if (isLoader) {\r\n            return <CircularProgress className={'loader'} />\r\n        }\r\n        if (isError) {\r\n            return (\r\n                <div className={'error_wrapper'}>\r\n                    <div className={'error_msg'}>{ERROR_MSG}</div>\r\n                    <Button\r\n                        variant=\"text\"\r\n                        onClick={getCityWeather}\r\n                    >\r\n                        Try again\r\n                    </Button>\r\n                </div>\r\n            )\r\n        }\r\n        return renderCities()\r\n    }\r\n\r\n    return (\r\n        <div className={`favorites_wrapper ${!darkMode ? 'favorites_light_mode' : ''}`}>\r\n            {renderFavBody()}\r\n            {isError && <div className={'storm'}>\r\n                {RainEffect(3)}\r\n                {LightningEffect()}\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    favoriteCities: state.mainReducer.favoriteCities,\r\n    cityDetails: state.mainReducer.cityDetails,\r\n    metric: state.mainReducer.metric,\r\n    darkMode: state.mainReducer.darkMode\r\n});\r\n\r\nexport default connect(mapStateToProps, { setCity, removeFavoriteCity })(Favorites)\r\n\r\n","import Favorites from './Favorites';\r\n\r\nexport default Favorites;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport { ROUTES } from '../../consts'\r\nimport Header from '../../components/Header';\r\nimport HomePage from '../../components/HomePage';\r\nimport Favorites from '../../components/Favorites'\r\nimport './style.scss';\r\n\r\nfunction WeatherApp(props) {\r\n    const { darkMode } = props;\r\n\r\n    return (\r\n        <div className={`weather_container ${!darkMode ? 'weather_container_light_mode' : ''}`}>\r\n            <Header/>\r\n            <Switch>\r\n                <Route exect path={ROUTES.home} component={HomePage}/>\r\n                <Route exect path={ROUTES.favorites} component={Favorites}/>\r\n                <Route path='/' render={() => <Redirect to=\"/home\"/>}/>\r\n            </Switch>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    darkMode: state.mainReducer.darkMode\r\n});\r\n\r\nexport default connect(mapStateToProps)(WeatherApp)\r\n\r\n\r\n","import WeatherApp from './WeatherApp';\r\n\r\nexport default WeatherApp;\r\n","import React from 'react';\nimport { HashRouter as Router } from 'react-router-dom';\nimport WeatherApp from \"./containers/WeatherApp\";\nimport './App.scss';\n\nexport default function App() {\n  return (\n      <Router basename={process.env.PUBLIC_URL}>\n          <div className=\"App\">\n              <WeatherApp/>\n          </div>\n      </Router>\n  );\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport App from './App';\nimport './index.scss';\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>\n    , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/icon.9118e9d8.png\";"],"sourceRoot":""}